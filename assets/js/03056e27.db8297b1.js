"use strict";(self.webpackChunkdocument=self.webpackChunkdocument||[]).push([[9267],{7339:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"tutorials/react/setup-for-user-project","title":"setup-for-user-project","description":"Overview","source":"@site/docs/tutorials/react/setup-for-user-project.md","sourceDirName":"tutorials/react","slug":"/tutorials/react/setup-for-user-project","permalink":"/PivotHead/docs/tutorials/react/setup-for-user-project","draft":false,"unlisted":false,"editUrl":"https://github.com/mindfiredigital/PivotHead/tree/main/documentation/docs/tutorials/react/setup-for-user-project.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Sample Project","permalink":"/PivotHead/docs/tutorials/react/react-sample-project"},"next":{"title":"Sample Project","permalink":"/PivotHead/docs/tutorials/vue/vue-sample-project"}}');var i=t(4848),a=t(8453);const r={},s=void 0,l={},d=[{value:"Overview",id:"overview",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Bridge Design",id:"bridge-design",level:3},{value:"Key Components",id:"key-components",level:3},{value:"Installation",id:"installation",level:2},{value:"Peer Dependencies",id:"peer-dependencies",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Simple Integration",id:"simple-integration",level:3},{value:"Three Rendering Modes",id:"three-rendering-modes",level:2},{value:"1. Default Mode",id:"1-default-mode",level:3},{value:"2. Minimal Mode",id:"2-minimal-mode",level:3},{value:"3. None Mode (Headless)",id:"3-none-mode-headless",level:3}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The React wrapper serves as an intelligent bridge that:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Preserves All Web Component Functionality"}),": Supports all three modes (default, minimal, none) with full feature parity"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Provides React-Native API"}),": Type-safe props, refs, and event handlers that feel natural in React applications"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Handles React-Specific Concerns"}),": Proper prop synchronization, event handling, and lifecycle management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Maintains Performance"}),": Efficient updates and minimal re-rendering through smart prop management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Offers TypeScript Support"}),": Full type definitions for all props, events, and methods"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(n.h3,{id:"bridge-design",children:"Bridge Design"}),"\n",(0,i.jsx)(n.p,{children:"The wrapper acts as a bridge between React's declarative paradigm and the Web Component's imperative API:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"React App \u2192 React Wrapper \u2192 Web Component \u2192 PivotHead Engine\n    \u2191            \u2191              \u2191              \u2191\n Props/JSX   Type Safety   Custom Element   Core Logic\n"})}),"\n",(0,i.jsx)(n.h3,{id:"key-components",children:"Key Components"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PivotHead Component"}),": Main React wrapper component"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type Definitions"}),": Comprehensive TypeScript interfaces"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Event Handlers"}),": React-friendly event system"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ref API"}),": Imperative access to web component methods"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Prop Synchronization"}),": Efficient data flow management"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"Install the React wrapper in your React project:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install @mindfiredigital/pivothead-react\n"})}),"\n",(0,i.jsx)(n.p,{children:"The wrapper automatically includes the web component as a dependency, so no additional installations are needed."}),"\n",(0,i.jsx)(n.h3,{id:"peer-dependencies",children:"Peer Dependencies"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"React \u2265 17"}),"\n",(0,i.jsx)(n.li,{children:"React DOM \u2265 17"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.h3,{id:"simple-integration",children:"Simple Integration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport { PivotHead } from '@mindfiredigital/pivothead-react';\n\nconst salesData = [\n  { country: 'USA', category: 'Electronics', sales: 1500, discount: 150 },\n  { country: 'Canada', category: 'Cars', sales: 1800, discount: 90 },\n  { country: 'Australia', category: 'Accessories', sales: 1200, discount: 120 },\n];\n\nconst options = {\n  rows: [{ uniqueName: 'country', caption: 'Country' }],\n  columns: [{ uniqueName: 'category', caption: 'Category' }],\n  measures: [\n    { uniqueName: 'sales', caption: 'Total Sales', aggregation: 'sum' },\n    { uniqueName: 'discount', caption: 'Total Discount', aggregation: 'sum' },\n  ],\n};\n\nexport default function App() {\n  return (\n    <div>\n      <h1>Sales Dashboard</h1>\n      <PivotHead mode=\"default\" data={salesData} options={options} />\n    </div>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"three-rendering-modes",children:"Three Rendering Modes"}),"\n",(0,i.jsx)(n.p,{children:"The React wrapper supports all three modes from the web component, each optimized for different use cases:"}),"\n",(0,i.jsx)(n.h3,{id:"1-default-mode",children:"1. Default Mode"}),"\n",(0,i.jsx)(n.p,{children:"Complete UI rendered by the component with built-in controls and functionality."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Click to view the complete Default Mode example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React, { useRef } from 'react';\nimport { PivotHead, PivotHeadRef } from '@mindfiredigital/pivothead-react';\n\nexport default function DefaultExample() {\n  const pivotRef = useRef<PivotHeadRef>(null);\n\n  const handleExport = () => {\n    pivotRef.current?.methods.exportToExcel('sales-report');\n  };\n\n  const switchToRawData = () => {\n    pivotRef.current?.methods.setViewMode('raw');\n  };\n\n  return (\n    <div>\n      <div style={{ marginBottom: 16, display: 'flex', gap: 8 }}>\n        <button onClick={switchToRawData}>View Raw Data</button>\n        <button onClick={handleExport}>Export Excel</button>\n      </div>\n\n      <PivotHead\n        ref={pivotRef}\n        mode=\"default\"\n        data={salesData}\n        options={options}\n        onStateChange={e => {\n          console.log('Pivot state changed:', e.detail);\n        }}\n      />\n    </div>\n  );\n}\n"})})]}),"\n",(0,i.jsx)(n.h3,{id:"2-minimal-mode",children:"2. Minimal Mode"}),"\n",(0,i.jsx)(n.p,{children:"Slot-based architecture where you provide custom header and body components."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Click to view the complete Minimal Mode example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useRef } from 'react';\nimport {\n  PivotHead,\n  PivotHeadRef,\n  PivotTableState,\n} from '@mindfiredigital/pivothead-react';\n\nexport default function MinimalExample() {\n  const pivotRef = useRef<PivotHeadRef>(null);\n  const [currentState, setCurrentState] = useState<PivotTableState | null>(\n    null\n  );\n  const [pageSize, setPageSize] = useState(10);\n\n  const handleStateChange = (e: CustomEvent<PivotTableState>) => {\n    setCurrentState(e.detail);\n  };\n\n  const handlePageSizeChange = (size: number) => {\n    setPageSize(size);\n    pivotRef.current?.methods.setPageSize(size);\n  };\n\n  const handleExport = () => {\n    pivotRef.current?.methods.exportToPDF('custom-report');\n  };\n\n  // Custom toolbar component\n  const CustomToolbar = () => (\n    <div\n      className=\"custom-toolbar\"\n      style={{\n        display: 'flex',\n        gap: 12,\n        padding: 12,\n        background: '#f8f9fa',\n        borderRadius: 6,\n        marginBottom: 12,\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n        <label>Page Size:</label>\n        <select\n          value={pageSize}\n          onChange={e => handlePageSizeChange(Number(e.target.value))}\n        >\n          <option value={5}>5</option>\n          <option value={10}>10</option>\n          <option value={25}>25</option>\n          <option value={50}>50</option>\n        </select>\n      </div>\n\n      <div style={{ marginLeft: 'auto', display: 'flex', gap: 8 }}>\n        <button\n          onClick={() => pivotRef.current?.methods.setViewMode('processed')}\n        >\n          Processed\n        </button>\n        <button onClick={() => pivotRef.current?.methods.setViewMode('raw')}>\n          Raw Data\n        </button>\n        <button onClick={handleExport}>Export PDF</button>\n      </div>\n    </div>\n  );\n\n  // Custom table component\n  const CustomTable = () => {\n    if (!currentState?.processedData) return <div>Loading...</div>;\n\n    const { headers, rows } = currentState.processedData;\n\n    return (\n      <table\n        style={{\n          width: '100%',\n          borderCollapse: 'collapse',\n          border: '1px solid #dee2e6',\n        }}\n      >\n        <thead>\n          <tr style={{ backgroundColor: '#e9ecef' }}>\n            {headers.map((header: string, index: number) => (\n              <th\n                key={index}\n                style={{\n                  padding: '12px 8px',\n                  textAlign: 'left',\n                  borderBottom: '2px solid #dee2e6',\n                  fontWeight: 600,\n                }}\n              >\n                {header}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map((row: any[], rowIndex: number) => (\n            <tr\n              key={rowIndex}\n              style={{\n                borderBottom: '1px solid #dee2e6',\n                ':hover': { backgroundColor: '#f8f9fa' },\n              }}\n            >\n              {row.map((cell: any, cellIndex: number) => (\n                <td\n                  key={cellIndex}\n                  style={{\n                    padding: '8px',\n                    borderRight: '1px solid #dee2e6',\n                  }}\n                >\n                  {cell}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n  };\n\n  return (\n    <PivotHead\n      ref={pivotRef}\n      mode=\"minimal\"\n      data={salesData}\n      options={options}\n      onStateChange={handleStateChange}\n      headerSlot={<CustomToolbar />}\n      bodySlot={<CustomTable />}\n    />\n  );\n}\n"})})]}),"\n",(0,i.jsx)(n.h3,{id:"3-none-mode-headless",children:"3. None Mode (Headless)"}),"\n",(0,i.jsx)(n.p,{children:"Complete UI control with access to all pivot functionality through the component API."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Click to view the complete None Mode (Headless) example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useRef, useEffect } from 'react';\nimport { PivotHead, PivotHeadRef, PivotTableState, FilterConfig } from '@mindfiredigital/pivothead-react';\n\nexport default function HeadlessExample() {\n  const pivotRef = useRef<PivotHeadRef>(null);\n  const [pivotState, setPivotState] = useState<PivotTableState | null>(null);\n  const [filters, setFilters] = useState<FilterConfig[]>([]);\n  const [viewMode, setViewMode] = useState<'processed' | 'raw'>('processed');\n  const [pagination, setPagination] = useState({\n    currentPage: 1,\n    totalPages: 1,\n    pageSize: 10\n  });\n\n  const handleStateChange = (e: CustomEvent<PivotTableState>) => {\n    setPivotState(e.detail);\n  };\n\n  const handlePaginationChange = (e: CustomEvent) => {\n    setPagination(e.detail);\n  };\n\n  const applyFilter = (field: string, operator: string, value: string) => {\n    const newFilters = [{ field, operator, value }] as FilterConfig[];\n    setFilters(newFilters);\n  };\n\n  const clearFilters = () => {\n    setFilters([]);\n  };\n\n  const changePageSize = (size: number) => {\n    pivotRef.current?.methods.setPageSize(size);\n  };\n\n  const goToPage = (page: number) => {\n    pivotRef.current?.methods.goToPage(page);\n  };\n\n  return (\n    <div style={{ display: 'flex', height: '100vh' }}>\n      {/* Hidden pivot component */}\n      <PivotHead\n        ref={pivotRef}\n        mode=\"none\"\n        data={salesData}\n        options={options}\n        filters={filters}\n        onStateChange={handleStateChange}\n        onPaginationChange={handlePaginationChange}\n        style={{ display: 'none' }}\n      />\n\n      {/* Custom Control Panel */}\n      <div style={{\n        width: 300,\n        padding: 20,\n        background: '#f8f9fa',\n        borderRight: '1px solid #dee2e6'\n      }}>\n        <h3>Pivot Controls</h3>\n\n        <div style={{ marginBottom: 20 }}>\n          <h4>View Mode</h4>\n          <div>\n            <label>\n              <input\n                type=\"radio\"\n                checked={viewMode === 'processed'}\n                onChange={() => {\n                  setViewMode('processed');\n                  pivotRef.current?.methods.setViewMode('processed');\n                }}\n              />\n              Processed Data\n            </label>\n          </div>\n          <div>\n            <label>\n              <input\n                type=\"radio\"\n                checked={viewMode === 'raw'}\n                onChange={() => {\n                  setViewMode('raw');\n                  pivotRef.current?.methods.setViewMode('raw');\n                }}\n              />\n              Raw Data\n            </label>\n          </div>\n        </div>\n\n        <div style={{ marginBottom: 20 }}>\n          <h4>Quick Filters</h4>\n          <button\n            onClick={() => applyFilter('sales', 'greaterThan', '1000')}\n            style={{ display: 'block', marginBottom: 8, width: '100%' }}\n          >\n            Sales > $1000\n          </button>\n          <button\n            onClick={() => applyFilter('country', 'equals', 'USA')}\n            style={{ display: 'block', marginBottom: 8, width: '100%' }}\n          >\n            USA Only\n          </button>\n          <button\n            onClick={clearFilters}\n            style={{ display: 'block', width: '100%' }}\n          >\n            Clear Filters\n          </button>\n        </div>\n\n        <div style={{ marginBottom: 20 }}>\n          <h4>Page Size</h4>\n          <select\n            value={pagination.pageSize}\n            onChange={(e) => changePageSize(Number(e.target.value))}\n          >\n            <option value={5}>5 per page</option>\n            <option value={10}>10 per page</option>\n            <option value={25}>25 per page</option>\n            <option value={50}>50 per page</option>\n          </select>\n        </div>\n\n        <div style={{ marginBottom: 20 }}>\n          <h4>Export Options</h4>\n          <button\n            onClick={() => pivotRef.current?.methods.exportToExcel()}\n            style={{ display: 'block', marginBottom: 8, width: '100%' }}\n          >\n            Export Excel\n          </button>\n          <button\n            onClick={() => pivotRef.current?.methods.exportToPDF()}\n            style={{ display: 'block', marginBottom: 8, width: '100%' }}\n          >\n            Export PDF\n          </button>\n          <button\n            onClick={() => pivotRef.current?.methods.openPrintDialog()}\n            style={{ display: 'block', width: '100%' }}\n          >\n            Print\n          </button>\n        </div>\n      </div>\n\n      {/* Custom Results Area */}\n      <div style={{ flex: 1, padding: 20, overflow: 'auto' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 20 }}>\n          <h2>Sales Analysis Results</h2>\n          <div>\n            Page {pagination.currentPage} of {pagination.totalPages}\n          </div>\n        </div>\n\n        {/* Summary Statistics */}\n        <div style={{ display: 'flex', gap: 20, marginBottom: 20 }}>\n          <div style={{\n            background: 'white',\n            padding: 16,\n            borderRadius: 8,\n            border: '1px solid #dee2e6',\n            flex: 1\n          }}>\n            <div style={{ fontSize: 24, fontWeight: 'bold', color: '#007bff' }}>\n              {salesData.length}\n            </div>\n            <div>Total Records</div>\n          </div>\n          <div style={{\n            background: 'white',\n            padding: 16,\n            borderRadius: 8,\n            border: '1px solid #dee2e6',\n            flex: 1\n          }}>\n            <div style={{ fontSize: 24, fontWeight: 'bold', color: '#28a745' }}>\n              ${salesData.reduce((sum, item) => sum + item.sales, 0).toLocaleString()}\n            </div>\n            <div>Total Sales</div>\n          </div>\n          <div style={{\n            background: 'white',\n            padding: 16,\n            borderRadius: 8,\n            border: '1px solid #dee2e6',\n            flex: 1\n          }}>\n            <div style={{ fontSize: 24, fontWeight: 'bold', color: '#ffc107' }}>\n              {new Set(salesData.map(item => item.country)).size}\n            </div>\n            <div>Countries</div>\n          </div>\n        </div>\n\n        {/* Custom Data Table */}\n        {pivotState?.processedData && (\n          <CustomDataTable\n            data={pivotState.processedData}\n            onSort={(field, direction) => {\n              pivotRef.current?.methods.sort(field, direction);\n            }}\n          />\n        )}\n\n        {/* Pagination Controls */}\n        <div style={{\n          display: 'flex',\n          justifyContent: 'center',\n          gap: 8,\n          marginTop: 20\n        }}>\n          <button\n            onClick={() => goToPage(pagination.currentPage - 1)}\n            disabled={pagination.currentPage <= 1}\n          >\n            Previous\n          </button>\n          <span style={{\n            padding: '6px 12px',\n            background: '#e9ecef',\n            borderRadius: 4\n          }}>\n            {pagination.currentPage} / {pagination.totalPages}\n          </span>\n          <button\n            onClick={() => goToPage(pagination.currentPage + 1)}\n            disabled={pagination.currentPage >= pagination.totalPages}\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Custom table component with sorting\nfunction CustomDataTable({ data, onSort }: {\n  data: { headers: string[], rows: any[][] },\n  onSort: (field: string, direction: 'asc' | 'desc') => void\n}) {\n  const [sortField, setSortField] = useState<string | null>(null);\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n\n  const handleSort = (field: string) => {\n    const newDirection = sortField === field && sortDirection === 'asc' ? 'desc' : 'asc';\n    setSortField(field);\n    setSortDirection(newDirection);\n    onSort(field, newDirection);\n  };\n\n  return (\n    <table style={{\n      width: '100%',\n      borderCollapse: 'collapse',\n      background: 'white',\n      border: '1px solid #dee2e6',\n      borderRadius: 8\n    }}>\n      <thead>\n        <tr style={{ backgroundColor: '#f8f9fa' }}>\n          {data.headers.map((header: string, index: number) => (\n            <th\n              key={index}\n              onClick={() => handleSort(header)}\n              style={{\n                padding: '12px 8px',\n                textAlign: 'left',\n                borderBottom: '2px solid #dee2e6',\n                cursor: 'pointer',\n                userSelect: 'none'\n              }}\n            >\n              <div style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n                {header}\n                {sortField === header && (\n                  <span style={{ fontSize: 12 }}>\n                    {sortDirection === 'asc' ? '\u2191' : '\u2193'}\n                  </span>\n                )}\n              </div>\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {data.rows.map((row: any[], rowIndex: number) => (\n          <tr\n            key={rowIndex}\n            style={{\n              borderBottom: '1px solid #dee2e6',\n              ':hover': { backgroundColor: '#f8f9fa' }\n            }}\n          >\n            {row.map((cell: any, cellIndex: number) => (\n              <td\n                key={cellIndex}\n                style={{\n                  padding: '8px',\n                  borderRight: cellIndex < row.length - 1 ? '1px solid #dee2e6' : 'none'\n                }}\n              >\n                {typeof cell === 'number' && data.headers[cellIndex].includes('Sales')\n                  ? `$${cell.toLocaleString()}`\n                  : cell}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n"})})]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var o=t(6540);const i={},a=o.createContext(i);function r(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);