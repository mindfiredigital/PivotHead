"use strict";(self.webpackChunkdocument=self.webpackChunkdocument||[]).push([[8551],{3624:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"tutorial-basics/web-component","title":"PivotHead Web Component","description":"The PivotHead Web Component provides a flexible, framework-agnostic solution for integrating pivot table functionality into any web application. Built as a native Web Component, it offers three distinct rendering modes to accommodate different use cases and UI requirements.","source":"@site/docs/tutorial-basics/web-component.md","sourceDirName":"tutorial-basics","slug":"/tutorial-basics/web-component","permalink":"/PivotHead/docs/tutorial-basics/web-component","draft":false,"unlisted":false,"editUrl":"https://github.com/mindfiredigital/PivotHead/tree/main/documentation/docs/tutorial-basics/web-component.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5}}');var o=t(4848),d=t(8453);const r={sidebar_position:5},s="PivotHead Web Component",l={},a=[{value:"Overview",id:"overview",level:2},{value:"Installation",id:"installation",level:2},{value:"Core Architecture",id:"core-architecture",level:2},{value:"Component Structure",id:"component-structure",level:3},{value:"Dependencies",id:"dependencies",level:3},{value:"Rendering Modes",id:"rendering-modes",level:2},{value:"1. Default Mode (Full UI)",id:"1-default-mode-full-ui",level:3},{value:"2. Minimal Mode (Slot-based)",id:"2-minimal-mode-slot-based",level:3},{value:"3. None Mode (Headless)",id:"3-none-mode-headless",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Example 1: Default Mode Implementation",id:"example-1-default-mode-implementation",level:3},{value:"Example 2: Minimal Mode with Custom Controls",id:"example-2-minimal-mode-with-custom-controls",level:3},{value:"Example 3: Headless Mode with Full Custom UI",id:"example-3-headless-mode-with-full-custom-ui",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Properties",id:"properties",level:3},{value:"Methods",id:"methods",level:3},{value:"Events",id:"events",level:3},{value:"Browser Support",id:"browser-support",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Conclusion",id:"conclusion",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"pivothead-web-component",children:"PivotHead Web Component"})}),"\n",(0,o.jsx)(n.p,{children:"The PivotHead Web Component provides a flexible, framework-agnostic solution for integrating pivot table functionality into any web application. Built as a native Web Component, it offers three distinct rendering modes to accommodate different use cases and UI requirements."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"@mindfiredigital/pivothead-web-component"})," package wraps the core PivotHead functionality in a custom HTML element (",(0,o.jsx)(n.code,{children:"<pivot-head>"}),"). This approach ensures compatibility with any JavaScript framework or vanilla HTML while providing:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Framework Agnostic"}),": Works with React, Vue, Angular, or plain HTML"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Three Rendering Modes"}),": Choose between full UI, slot-based, or headless implementation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rich API"}),": Complete access to pivot functionality through properties, methods, and events"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"TypeScript Support"}),": Full type definitions included"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Shadow DOM"}),": Encapsulated styles prevent CSS conflicts"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.p,{children:"Install the web component package in your project:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install @mindfiredigital/pivothead-web-component\n"})}),"\n",(0,o.jsx)(n.p,{children:"For polyfill support in older browsers:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install @webcomponents/webcomponentsjs\n"})}),"\n",(0,o.jsx)(n.h2,{id:"core-architecture",children:"Core Architecture"}),"\n",(0,o.jsx)(n.p,{children:"The web component is built around the following key concepts:"}),"\n",(0,o.jsx)(n.h3,{id:"component-structure",children:"Component Structure"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Custom Element"}),": ",(0,o.jsx)(n.code,{children:"<pivot-head>"})," registered as a native web component"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Shadow DOM"}),": Encapsulated styling and DOM structure"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Slot Support"}),": Named slots for custom content in minimal mode"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Event System"}),": Custom events for state changes and user interactions"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Built on top of ",(0,o.jsx)(n.code,{children:"@mindfiredigital/pivothead"})," core engine"]}),"\n",(0,o.jsx)(n.li,{children:"Utilizes Rollup for bundling and TypeScript for type safety"}),"\n",(0,o.jsx)(n.li,{children:"Peer dependency on Web Components polyfills for broader browser support"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"rendering-modes",children:"Rendering Modes"}),"\n",(0,o.jsxs)(n.p,{children:["The web component supports three distinct modes, controlled by the ",(0,o.jsx)(n.code,{children:"mode"})," attribute:"]}),"\n",(0,o.jsx)(n.h3,{id:"1-default-mode-full-ui",children:"1. Default Mode (Full UI)"}),"\n",(0,o.jsx)(n.p,{children:"In default mode, the component renders a complete pivot table interface with built-in controls, filters, and pagination."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<pivot-head\n  data=\'[{"country":"Australia","category":"Electronics","price":1200}]\'\n  options=\'{\n    "rows":[{"uniqueName":"country","caption":"Country"}],\n    "columns":[{"uniqueName":"category","caption":"Category"}],\n    "measures":[{"uniqueName":"price","caption":"Total Price","aggregation":"sum"}]\n  }\'\n></pivot-head>\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Features:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Complete UI rendered by the component"}),"\n",(0,o.jsx)(n.li,{children:"Built-in sorting, filtering, and pagination"}),"\n",(0,o.jsx)(n.li,{children:"Export functionality (PDF, Excel, HTML)"}),"\n",(0,o.jsx)(n.li,{children:"Print support"}),"\n",(0,o.jsx)(n.li,{children:"Responsive design with shadow DOM styling"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"When to Use:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Quick integration with minimal setup"}),"\n",(0,o.jsx)(n.li,{children:"Standard pivot table requirements"}),"\n",(0,o.jsx)(n.li,{children:"Prototyping and demos"}),"\n",(0,o.jsx)(n.li,{children:"When you want full functionality out-of-the-box"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"2-minimal-mode-slot-based",children:"2. Minimal Mode (Slot-based)"}),"\n",(0,o.jsx)(n.p,{children:"Minimal mode provides a lightweight container with named slots, giving you control over the UI while leveraging the component's data processing capabilities."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<pivot-head mode="minimal" data="[...]" options="{...}">\n  <div slot="header">\n    \x3c!-- Your custom toolbar --\x3e\n    <button id="exportBtn">Export</button>\n    <select id="pageSize">\n      <option value="10">10</option>\n      <option value="25">25</option>\n    </select>\n  </div>\n\n  <div slot="body">\n    \x3c!-- Your custom table --\x3e\n    <table id="pivotTable">\n      \x3c!-- Table content populated via JavaScript --\x3e\n    </table>\n  </div>\n</pivot-head>\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Implementation Pattern:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"import '@mindfiredigital/pivothead-web-component';\n\nconst pivot = document.getElementById('pivot');\nconst table = document.getElementById('pivotTable');\n\npivot.addEventListener('stateChange', e => {\n  const state = e.detail;\n  renderCustomTable(state.processedData);\n});\n\nfunction renderCustomTable(data) {\n  // Your custom rendering logic\n  const { headers, rows, totals } = data;\n  // Populate your table element\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"When to Use:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Custom UI requirements"}),"\n",(0,o.jsx)(n.li,{children:"Brand-specific styling needs"}),"\n",(0,o.jsx)(n.li,{children:"Integration with existing design systems"}),"\n",(0,o.jsx)(n.li,{children:"Partial control over user interface"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"3-none-mode-headless",children:"3. None Mode (Headless)"}),"\n",(0,o.jsx)(n.p,{children:"None mode provides pure data processing without any rendered UI. You have complete control over the presentation layer while accessing all pivot functionality."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<pivot-head id="pivot" mode="none" style="display: none;"></pivot-head>\n\n<div id="customUI">\n  <div class="toolbar">\n    <button id="sortBtn">Sort</button>\n    <select id="filterSelect"></select>\n    <input id="filterInput" placeholder="Filter value" />\n  </div>\n  <table id="resultsTable"></table>\n</div>\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Implementation Pattern:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"import '@mindfiredigital/pivothead-web-component';\n\nconst pivot = document.getElementById('pivot');\nconst resultsTable = document.getElementById('resultsTable');\n\n// Set data and options\npivot.data = yourDataArray;\npivot.options = yourPivotOptions;\n\n// Listen for state changes\npivot.addEventListener('stateChange', e => {\n  const state = e.detail;\n  buildCompleteUI(state);\n});\n\n// Use component APIs\ndocument.getElementById('sortBtn').onclick = () => {\n  pivot.sort('fieldName', 'desc');\n};\n\nfunction buildCompleteUI(state) {\n  // Full control over rendering\n  // Access to state.processedData, state.rawData, etc.\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"When to Use:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Complete UI customization required"}),"\n",(0,o.jsx)(n.li,{children:"Integration with complex application layouts"}),"\n",(0,o.jsx)(n.li,{children:"Custom interaction patterns"}),"\n",(0,o.jsx)(n.li,{children:"Maximum flexibility needed"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,o.jsx)(n.h3,{id:"example-1-default-mode-implementation",children:"Example 1: Default Mode Implementation"}),"\n",(0,o.jsx)(n.p,{children:"This example demonstrates the simplest integration using default mode:"}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:"Click to view the complete HTML example (Default Mode)"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <title>PivotHead Default Demo</title>\n  </head>\n  <body>\n    <h2>Sales Analysis Dashboard</h2>\n\n    <pivot-head\n      data=\'[\n      {"country":"Australia","category":"Accessories","price":174,"discount":23},\n      {"country":"Australia","category":"Electronics","price":1200,"discount":120},\n      {"country":"Canada","category":"Cars","price":1800,"discount":90},\n      {"country":"USA","category":"Electronics","price":1500,"discount":150}\n    ]\'\n      options=\'{\n      "rows":[{"uniqueName":"country","caption":"Country"}],\n      "columns":[{"uniqueName":"category","caption":"Category"}],\n      "measures":[\n        {"uniqueName":"price","caption":"Sum of Price","aggregation":"sum"},\n        {"uniqueName":"discount","caption":"Sum of Discount","aggregation":"sum"}\n      ],\n      "pageSize":10\n    }\'\n    ></pivot-head>\n\n    <script type="module">\n      import \'@mindfiredigital/pivothead-web-component\';\n\n      const pivot = document.querySelector(\'pivot-head\');\n      pivot.addEventListener(\'stateChange\', e => {\n        console.log(\'Pivot state updated:\', e.detail);\n      });\n    <\/script>\n  </body>\n</html>\n'})})]}),"\n",(0,o.jsx)(n.h3,{id:"example-2-minimal-mode-with-custom-controls",children:"Example 2: Minimal Mode with Custom Controls"}),"\n",(0,o.jsx)(n.p,{children:"This example shows how to use minimal mode with custom toolbar controls:"}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:"Click to view the complete HTML example (Minimal Mode)"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:"<!DOCTYPE html>\n<html>\n  <head>\n    <title>PivotHead Minimal Demo</title>\n    <style>\n      .custom-toolbar {\n        display: flex;\n        gap: 10px;\n        padding: 10px;\n        background: #f5f5f5;\n        border-radius: 4px;\n        margin-bottom: 10px;\n      }\n      .custom-table {\n        width: 100%;\n        border-collapse: collapse;\n      }\n      .custom-table th,\n      .custom-table td {\n        border: 1px solid #ddd;\n        padding: 8px;\n        text-align: left;\n      }\n      .custom-table th {\n        background-color: #4caf50;\n        color: white;\n      }\n    </style>\n  </head>\n  <body>\n    <h2>Custom Pivot Interface</h2>\n\n    <pivot-head id=\"pivot\" mode=\"minimal\">\n      <div slot=\"header\" class=\"custom-toolbar\">\n        <label>Filter Field:</label>\n        <select id=\"filterField\"></select>\n        <input type=\"text\" id=\"filterValue\" placeholder=\"Enter value\" />\n        <button id=\"applyFilter\">Apply Filter</button>\n        <button id=\"resetFilter\">Reset</button>\n\n        <div style=\"margin-left: auto;\">\n          <label>Page Size:</label>\n          <select id=\"pageSize\">\n            <option value=\"5\">5</option>\n            <option value=\"10\" selected>10</option>\n            <option value=\"25\">25</option>\n          </select>\n          <button id=\"exportPDF\">Export PDF</button>\n        </div>\n      </div>\n\n      <div slot=\"body\">\n        <table id=\"pivotTable\" class=\"custom-table\">\n          <thead id=\"tableHead\"></thead>\n          <tbody id=\"tableBody\"></tbody>\n        </table>\n      </div>\n    </pivot-head>\n\n    <script type=\"module\">\n      import '@mindfiredigital/pivothead-web-component';\n\n      const pivot = document.getElementById('pivot');\n      const tableHead = document.getElementById('tableHead');\n      const tableBody = document.getElementById('tableBody');\n      const filterField = document.getElementById('filterField');\n\n      // Sample data\n      const sampleData = [\n        {\n          country: 'Australia',\n          category: 'Accessories',\n          price: 174,\n          discount: 23,\n        },\n        { country: 'Canada', category: 'Cars', price: 180, discount: 80 },\n        { country: 'USA', category: 'Electronics', price: 1500, discount: 150 },\n      ];\n\n      const options = {\n        rows: [{ uniqueName: 'country', caption: 'Country' }],\n        columns: [{ uniqueName: 'category', caption: 'Category' }],\n        measures: [\n          { uniqueName: 'price', caption: 'Price', aggregation: 'sum' },\n          { uniqueName: 'discount', caption: 'Discount', aggregation: 'sum' },\n        ],\n      };\n\n      // Set data\n      pivot.setAttribute('data', JSON.stringify(sampleData));\n      pivot.setAttribute('options', JSON.stringify(options));\n\n      // Listen for state changes\n      pivot.addEventListener('stateChange', e => {\n        const state = e.detail;\n        renderTable(state.processedData);\n        populateFilterOptions(state);\n      });\n\n      function renderTable(data) {\n        // Render headers\n        const headerRow = document.createElement('tr');\n        data.headers.forEach(header => {\n          const th = document.createElement('th');\n          th.textContent = header;\n          headerRow.appendChild(th);\n        });\n        tableHead.innerHTML = '';\n        tableHead.appendChild(headerRow);\n\n        // Render rows\n        tableBody.innerHTML = '';\n        data.rows.forEach(row => {\n          const tr = document.createElement('tr');\n          row.forEach(cell => {\n            const td = document.createElement('td');\n            td.textContent = cell;\n            tr.appendChild(td);\n          });\n          tableBody.appendChild(tr);\n        });\n      }\n\n      function populateFilterOptions(state) {\n        filterField.innerHTML = '';\n        [...state.rows, ...state.columns].forEach(field => {\n          const option = document.createElement('option');\n          option.value = field.uniqueName;\n          option.textContent = field.caption;\n          filterField.appendChild(option);\n        });\n      }\n\n      // Event handlers\n      document.getElementById('applyFilter').onclick = () => {\n        const field = filterField.value;\n        const value = document.getElementById('filterValue').value;\n        if (field && value) {\n          pivot.addFilter(field, 'contains', value);\n        }\n      };\n\n      document.getElementById('resetFilter').onclick = () => {\n        pivot.clearFilters();\n      };\n\n      document.getElementById('pageSize').onchange = e => {\n        pivot.setPageSize(parseInt(e.target.value));\n      };\n\n      document.getElementById('exportPDF').onclick = () => {\n        pivot.exportToPDF();\n      };\n    <\/script>\n  </body>\n</html>\n"})})]}),"\n",(0,o.jsx)(n.h3,{id:"example-3-headless-mode-with-full-custom-ui",children:"Example 3: Headless Mode with Full Custom UI"}),"\n",(0,o.jsx)(n.p,{children:"This example demonstrates complete UI control using none mode:"}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:"Click to view the complete HTML example (None/Headless Mode)"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:"<!DOCTYPE html>\n<html>\n  <head>\n    <title>PivotHead Headless Demo</title>\n    <style>\n      .dashboard {\n        display: grid;\n        grid-template-columns: 300px 1fr;\n        gap: 20px;\n        height: 100vh;\n      }\n      .controls {\n        background: #f8f9fa;\n        padding: 20px;\n        border-radius: 8px;\n      }\n      .control-group {\n        margin-bottom: 20px;\n      }\n      .results {\n        overflow: auto;\n      }\n      .pivot-table {\n        width: 100%;\n        border-collapse: collapse;\n        font-size: 14px;\n      }\n      .pivot-table th {\n        background: #007bff;\n        color: white;\n        padding: 12px 8px;\n        text-align: left;\n        position: sticky;\n        top: 0;\n      }\n      .pivot-table td {\n        padding: 8px;\n        border-bottom: 1px solid #dee2e6;\n      }\n      .pivot-table tr:hover {\n        background-color: #f5f5f5;\n      }\n      .summary-stats {\n        display: flex;\n        gap: 20px;\n        margin-bottom: 20px;\n      }\n      .stat-card {\n        background: white;\n        padding: 15px;\n        border-radius: 6px;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        flex: 1;\n      }\n      .stat-value {\n        font-size: 24px;\n        font-weight: bold;\n        color: #007bff;\n      }\n    </style>\n  </head>\n  <body>\n    \x3c!-- Hidden web component --\x3e\n    <pivot-head id=\"pivot\" mode=\"none\"></pivot-head>\n\n    <div class=\"dashboard\">\n      <div class=\"controls\">\n        <h3>Pivot Configuration</h3>\n\n        <div class=\"control-group\">\n          <label>View Mode:</label>\n          <select id=\"viewMode\">\n            <option value=\"processed\">Processed Data</option>\n            <option value=\"raw\">Raw Data</option>\n          </select>\n        </div>\n\n        <div class=\"control-group\">\n          <label>Sort Field:</label>\n          <select id=\"sortField\"></select>\n          <select id=\"sortDir\">\n            <option value=\"asc\">Ascending</option>\n            <option value=\"desc\">Descending</option>\n          </select>\n          <button id=\"applySortBtn\">Apply Sort</button>\n        </div>\n\n        <div class=\"control-group\">\n          <label>Filter:</label>\n          <select id=\"filterFieldSelect\"></select>\n          <select id=\"filterOperator\">\n            <option value=\"equals\">Equals</option>\n            <option value=\"contains\">Contains</option>\n            <option value=\"greaterThan\">Greater Than</option>\n            <option value=\"lessThan\">Less Than</option>\n          </select>\n          <input type=\"text\" id=\"filterValueInput\" placeholder=\"Value\" />\n          <button id=\"applyFilterBtn\">Apply</button>\n          <button id=\"clearFiltersBtn\">Clear All</button>\n        </div>\n\n        <div class=\"control-group\">\n          <label>Page Size:</label>\n          <select id=\"pageSizeSelect\">\n            <option value=\"10\">10</option>\n            <option value=\"25\">25</option>\n            <option value=\"50\">50</option>\n            <option value=\"100\">100</option>\n          </select>\n        </div>\n\n        <div class=\"control-group\">\n          <h4>Export Options</h4>\n          <button id=\"exportHTMLBtn\">Export HTML</button>\n          <button id=\"exportPDFBtn\">Export PDF</button>\n          <button id=\"exportExcelBtn\">Export Excel</button>\n          <button id=\"printBtn\">Print</button>\n        </div>\n      </div>\n\n      <div class=\"results\">\n        <h2>Sales Analysis Results</h2>\n\n        <div class=\"summary-stats\" id=\"summaryStats\">\n          \x3c!-- Dynamic summary cards --\x3e\n        </div>\n\n        <div class=\"pagination\" id=\"paginationControls\">\n          \x3c!-- Pagination controls --\x3e\n        </div>\n\n        <table class=\"pivot-table\" id=\"resultsTable\">\n          <thead id=\"tableHeaders\"></thead>\n          <tbody id=\"tableRows\"></tbody>\n        </table>\n      </div>\n    </div>\n\n    <script type=\"module\">\n      import '@mindfiredigital/pivothead-web-component';\n\n      const pivot = document.getElementById('pivot');\n\n      // Sample data\n      const salesData = [\n        {\n          country: 'Australia',\n          category: 'Accessories',\n          price: 174,\n          discount: 23,\n          quantity: 5,\n        },\n        {\n          country: 'Australia',\n          category: 'Electronics',\n          price: 1200,\n          discount: 120,\n          quantity: 2,\n        },\n        {\n          country: 'Canada',\n          category: 'Cars',\n          price: 1800,\n          discount: 90,\n          quantity: 1,\n        },\n        {\n          country: 'USA',\n          category: 'Electronics',\n          price: 1500,\n          discount: 150,\n          quantity: 3,\n        },\n        {\n          country: 'Germany',\n          category: 'Cars',\n          price: 2200,\n          discount: 110,\n          quantity: 1,\n        },\n        {\n          country: 'France',\n          category: 'Accessories',\n          price: 380,\n          discount: 38,\n          quantity: 8,\n        },\n      ];\n\n      const pivotOptions = {\n        rows: [{ uniqueName: 'country', caption: 'Country' }],\n        columns: [{ uniqueName: 'category', caption: 'Category' }],\n        measures: [\n          { uniqueName: 'price', caption: 'Total Price', aggregation: 'sum' },\n          {\n            uniqueName: 'discount',\n            caption: 'Total Discount',\n            aggregation: 'sum',\n          },\n          {\n            uniqueName: 'quantity',\n            caption: 'Total Quantity',\n            aggregation: 'sum',\n          },\n        ],\n        pageSize: 10,\n      };\n\n      // Initialize component\n      pivot.setAttribute('data', JSON.stringify(salesData));\n      pivot.setAttribute('options', JSON.stringify(pivotOptions));\n\n      let currentState = null;\n\n      // Listen for state changes\n      pivot.addEventListener('stateChange', e => {\n        currentState = e.detail;\n        renderDashboard(currentState);\n        populateControlOptions(currentState);\n      });\n\n      function renderDashboard(state) {\n        renderSummaryStats(state);\n        renderTable(state);\n        renderPagination(state);\n      }\n\n      function renderSummaryStats(state) {\n        const summaryStats = document.getElementById('summaryStats');\n        const data = state.processedData;\n\n        // Calculate summary statistics\n        const totalRows = data.rows.length;\n        const totalCountries = new Set(salesData.map(item => item.country))\n          .size;\n        const totalRevenue = salesData.reduce(\n          (sum, item) => sum + item.price,\n          0\n        );\n\n        summaryStats.innerHTML = `\n        <div class=\"stat-card\">\n          <div>Total Records</div>\n          <div class=\"stat-value\">${totalRows}</div>\n        </div>\n        <div class=\"stat-card\">\n          <div>Countries</div>\n          <div class=\"stat-value\">${totalCountries}</div>\n        </div>\n        <div class=\"stat-card\">\n          <div>Total Revenue</div>\n          <div class=\"stat-value\">$${totalRevenue.toLocaleString()}</div>\n        </div>\n      `;\n      }\n\n      function renderTable(state) {\n        const headers = document.getElementById('tableHeaders');\n        const rows = document.getElementById('tableRows');\n        const data = state.processedData;\n\n        // Render headers\n        headers.innerHTML = '';\n        const headerRow = document.createElement('tr');\n        data.headers.forEach(header => {\n          const th = document.createElement('th');\n          th.textContent = header;\n          th.style.cursor = 'pointer';\n          th.onclick = () => sortByColumn(header);\n          headerRow.appendChild(th);\n        });\n        headers.appendChild(headerRow);\n\n        // Render rows\n        rows.innerHTML = '';\n        data.rows.forEach(row => {\n          const tr = document.createElement('tr');\n          row.forEach((cell, index) => {\n            const td = document.createElement('td');\n            // Format numbers if they appear to be currency\n            if (\n              typeof cell === 'number' &&\n              data.headers[index].includes('Price')\n            ) {\n              td.textContent = `$${cell.toLocaleString()}`;\n            } else {\n              td.textContent = cell;\n            }\n            tr.appendChild(td);\n          });\n          rows.appendChild(tr);\n        });\n      }\n\n      function renderPagination(state) {\n        const pagination = state.pagination || {};\n        const controls = document.getElementById('paginationControls');\n\n        if (pagination.totalPages > 1) {\n          controls.innerHTML = `\n          <button onclick=\"previousPage()\" ${pagination.currentPage <= 1 ? 'disabled' : ''}>Previous</button>\n          <span>Page ${pagination.currentPage} of ${pagination.totalPages}</span>\n          <button onclick=\"nextPage()\" ${pagination.currentPage >= pagination.totalPages ? 'disabled' : ''}>Next</button>\n        `;\n        } else {\n          controls.innerHTML = '';\n        }\n      }\n\n      function populateControlOptions(state) {\n        // Populate sort fields\n        const sortField = document.getElementById('sortField');\n        const filterField = document.getElementById('filterFieldSelect');\n\n        sortField.innerHTML = '';\n        filterField.innerHTML = '';\n\n        // Add row fields\n        state.rows?.forEach(row => {\n          sortField.innerHTML += `<option value=\"${row.uniqueName}\">${row.caption}</option>`;\n          filterField.innerHTML += `<option value=\"${row.uniqueName}\">${row.caption}</option>`;\n        });\n\n        // Add column fields\n        state.columns?.forEach(col => {\n          sortField.innerHTML += `<option value=\"${col.uniqueName}\">${col.caption}</option>`;\n          filterField.innerHTML += `<option value=\"${col.uniqueName}\">${col.caption}</option>`;\n        });\n      }\n\n      function sortByColumn(columnName) {\n        pivot.sort(columnName, 'asc');\n      }\n\n      // Global functions for pagination\n      window.previousPage = () => {\n        if (currentState?.pagination?.currentPage > 1) {\n          pivot.previousPage();\n        }\n      };\n\n      window.nextPage = () => {\n        if (\n          currentState?.pagination?.currentPage <\n          currentState?.pagination?.totalPages\n        ) {\n          pivot.nextPage();\n        }\n      };\n\n      // Event handlers\n      document.getElementById('applySortBtn').onclick = () => {\n        const field = document.getElementById('sortField').value;\n        const direction = document.getElementById('sortDir').value;\n        pivot.sort(field, direction);\n      };\n\n      document.getElementById('applyFilterBtn').onclick = () => {\n        const field = document.getElementById('filterFieldSelect').value;\n        const operator = document.getElementById('filterOperator').value;\n        const value = document.getElementById('filterValueInput').value;\n\n        if (field && value) {\n          pivot.addFilter(field, operator, value);\n        }\n      };\n\n      document.getElementById('clearFiltersBtn').onclick = () => {\n        pivot.clearFilters();\n      };\n\n      document.getElementById('pageSizeSelect').onchange = e => {\n        pivot.setPageSize(parseInt(e.target.value));\n      };\n\n      document.getElementById('viewMode').onchange = e => {\n        pivot.setViewMode(e.target.value);\n      };\n\n      // Export handlers\n      document.getElementById('exportHTMLBtn').onclick = () =>\n        pivot.exportToHTML();\n      document.getElementById('exportPDFBtn').onclick = () =>\n        pivot.exportToPDF();\n      document.getElementById('exportExcelBtn').onclick = () =>\n        pivot.exportToExcel();\n      document.getElementById('printBtn').onclick = () => pivot.print();\n    <\/script>\n  </body>\n</html>\n"})})]}),"\n",(0,o.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,o.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Property"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Description"}),(0,o.jsx)(n.th,{children:"Example"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"data"})}),(0,o.jsx)(n.td,{children:"string (JSON)"}),(0,o.jsx)(n.td,{children:"The dataset to be processed"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'\'[{"name":"John","age":30}]\''})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"options"})}),(0,o.jsx)(n.td,{children:"string (JSON)"}),(0,o.jsx)(n.td,{children:"Pivot configuration options"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'\'{"rows":[...],"columns":[...]}\''})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"mode"})}),(0,o.jsx)(n.td,{children:"string"}),(0,o.jsx)(n.td,{children:"Rendering mode"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'"default" | "minimal" | "none"'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"filters"})}),(0,o.jsx)(n.td,{children:"string (JSON)"}),(0,o.jsx)(n.td,{children:"Filter configuration"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'\'[{"field":"age","operator":"gt","value":25}]\''})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"pagination"})}),(0,o.jsx)(n.td,{children:"string (JSON)"}),(0,o.jsx)(n.td,{children:"Pagination settings"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'\'{"pageSize":10,"currentPage":1}\''})})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Method"}),(0,o.jsx)(n.th,{children:"Parameters"}),(0,o.jsx)(n.th,{children:"Returns"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"getState()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PivotTableState"})}),(0,o.jsx)(n.td,{children:"Get current component state"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"refresh()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Refresh the pivot engine"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"sort(field, direction)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"field: string, direction: 'asc' | 'desc'"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Sort data by field"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"addFilter(field, operator, value)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"field: string, operator: string, value: any"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Add a filter"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"clearFilters()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Remove all filters"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"setPageSize(size)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"size: number"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Set pagination page size"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"nextPage()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Navigate to next page"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"previousPage()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Navigate to previous page"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"exportToPDF()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Export data as PDF"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"exportToExcel()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Export data as Excel"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"exportToHTML()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Export data as HTML"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"print()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Print the pivot table"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"setViewMode(mode)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"mode: 'processed' | 'raw'"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void"})}),(0,o.jsx)(n.td,{children:"Switch view mode"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"getRawData()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Array"})}),(0,o.jsx)(n.td,{children:"Get original dataset"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"getProcessedData()"})}),(0,o.jsx)(n.td,{children:"-"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Object"})}),(0,o.jsx)(n.td,{children:"Get processed pivot data"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"events",children:"Events"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Event"}),(0,o.jsx)(n.th,{children:"Detail Type"}),(0,o.jsx)(n.th,{children:"Description"}),(0,o.jsx)(n.th,{children:"Usage"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"stateChange"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PivotTableState"})}),(0,o.jsx)(n.td,{children:"Fired when internal state changes"}),(0,o.jsx)(n.td,{children:"Monitor data updates, re-render UI"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"filterChange"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"FilterState"})}),(0,o.jsx)(n.td,{children:"Fired when filters are modified"}),(0,o.jsx)(n.td,{children:"React to filter updates"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"sortChange"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"SortState"})}),(0,o.jsx)(n.td,{children:"Fired when sorting is applied"}),(0,o.jsx)(n.td,{children:"Track sorting changes"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"pageChange"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PaginationState"})}),(0,o.jsx)(n.td,{children:"Fired when page changes"}),(0,o.jsx)(n.td,{children:"Handle pagination events"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"browser-support",children:"Browser Support"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Modern Browsers"}),": Chrome 67+, Firefox 63+, Safari 12+, Edge 79+"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Legacy Support"}),": Use @webcomponents/webcomponentsjs polyfill"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Mobile"}),": iOS Safari 12+, Chrome Mobile 67+"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Large Datasets"}),": Use pagination and virtualization"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Frequent Updates"}),": Implement debouncing"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Memory Usage"}),": Clean up event listeners and references"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Bundle Size"}),": Import only needed functionality"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,o.jsx)(n.p,{children:"The PivotHead Web Component provides a powerful, flexible solution for integrating pivot table functionality into any web application. Whether you need a quick drop-in solution (default mode), customizable UI (minimal mode), or complete control (none mode), the component adapts to your requirements while maintaining consistency and performance."}),"\n",(0,o.jsx)(n.p,{children:"The three-mode architecture ensures that you can start simple and scale complexity as needed, making it suitable for everything from simple data displays to complex analytical dashboards. With comprehensive TypeScript support, framework integration options, and extensive API coverage, the web component serves as a robust foundation for data visualization needs."})]})}function p(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var i=t(6540);const o={},d=i.createContext(o);function r(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);