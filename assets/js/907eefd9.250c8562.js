"use strict";(self.webpackChunkdocument=self.webpackChunkdocument||[]).push([[2144],{6142:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"reference/conceptual-reference/angular-conceptual-reference","title":"Angular Concepts","description":"The PivotHead Angular Wrapper (@mindfiredigital/pivothead-angular) is a powerful, type-safe Angular component that bridges Angular applications with the PivotHead Web Component. It provides a seamless Angular developer experience with full TypeScript support, reactive data binding, and Angular-specific optimizations while preserving all the functionality and modes of the underlying web component.","source":"@site/docs/reference/conceptual-reference/angular.md","sourceDirName":"reference/conceptual-reference","slug":"/reference/conceptual-reference/angular-conceptual-reference","permalink":"/PivotHead/docs/reference/conceptual-reference/angular-conceptual-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/mindfiredigital/PivotHead/tree/main/documentation/docs/reference/conceptual-reference/angular.md","tags":[],"version":"current","frontMatter":{"id":"angular-conceptual-reference","title":"Angular Concepts","sidebar_label":"Angular"},"sidebar":"tutorialSidebar","previous":{"title":"React","permalink":"/PivotHead/docs/reference/conceptual-reference/react-conceptual-reference"},"next":{"title":"Vue","permalink":"/PivotHead/docs/reference/conceptual-reference/vue-conceptual-reference"}}');var o=t(4848),r=t(8453);const a={id:"angular-conceptual-reference",title:"Angular Concepts",sidebar_label:"Angular"},s="Angular Wrapper",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Bridge Design",id:"bridge-design",level:3},{value:"Key Components",id:"key-components",level:3},{value:"Installation",id:"installation",level:2},{value:"Peer Dependencies",id:"peer-dependencies",level:3},{value:"Importing the Component",id:"importing-the-component",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Simple Integration",id:"simple-integration",level:3},{value:"Three Rendering Modes",id:"three-rendering-modes",level:2},{value:"1. Default Mode",id:"1-default-mode",level:3},{value:"2. Minimal Mode",id:"2-minimal-mode",level:3},{value:"3. None Mode",id:"3-none-mode",level:3},{value:"File Import Capabilities",id:"file-import-capabilities",level:2},{value:"ConnectService Integration",id:"connectservice-integration",level:3},{value:"Load from URL",id:"load-from-url",level:3},{value:"Connection Options",id:"connection-options",level:3},{value:"WebAssembly &amp; Web Workers",id:"webassembly--web-workers",level:3},{value:"Component API",id:"component-api",level:2},{value:"Inputs (@Input)",id:"inputs-input",level:3},{value:"Outputs (@Output)",id:"outputs-output",level:3},{value:"Public Methods",id:"public-methods",level:3},{value:"TypeScript Support",id:"typescript-support",level:2},{value:"Advanced Examples",id:"advanced-examples",level:2},{value:"Dynamic Configuration",id:"dynamic-configuration",level:3},{value:"Field Introspection &amp; Dynamic Layout",id:"field-introspection--dynamic-layout",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use ViewChild for Method Access",id:"1-use-viewchild-for-method-access",level:3},{value:"2. Handle Lifecycle Properly",id:"2-handle-lifecycle-properly",level:3},{value:"3. Type Your Data",id:"3-type-your-data",level:3},{value:"4. Optimize Large Datasets",id:"4-optimize-large-datasets",level:3},{value:"5. Handle Errors",id:"5-handle-errors",level:3},{value:"6. Use Reactive Patterns",id:"6-use-reactive-patterns",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Change Detection",id:"change-detection",level:3},{value:"Memory Management",id:"memory-management",level:3},{value:"Lazy Loading",id:"lazy-loading",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Key Strengths",id:"key-strengths",level:3},{value:"Use Cases",id:"use-cases",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"angular-wrapper",children:"Angular Wrapper"})}),"\n",(0,o.jsxs)(n.p,{children:["The PivotHead Angular Wrapper (",(0,o.jsx)(n.code,{children:"@mindfiredigital/pivothead-angular"}),") is a powerful, type-safe Angular component that bridges Angular applications with the PivotHead Web Component. It provides a seamless Angular developer experience with full TypeScript support, reactive data binding, and Angular-specific optimizations while preserving all the functionality and modes of the underlying web component."]}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"The Angular wrapper serves as an intelligent bridge that:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Preserves All Web Component Functionality"}),": Supports all three modes (default, minimal, none) with full feature parity"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Provides Angular-Native API"}),": Type-safe inputs, outputs, and ViewChild references that feel natural in Angular applications"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Handles Angular-Specific Concerns"}),": Proper change detection, lifecycle hooks, and event emitting"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Maintains Performance"}),": Efficient updates and minimal re-rendering through smart change detection"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Offers Full TypeScript Support"}),": Complete type definitions for all inputs, outputs, and methods"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Supports Standalone Components"}),": Built as a standalone component for modern Angular applications"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"File Import Capabilities"}),": Native support for CSV, JSON, and file uploads with WebAssembly acceleration"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,o.jsx)(n.h3,{id:"bridge-design",children:"Bridge Design"}),"\n",(0,o.jsx)(n.p,{children:"The wrapper acts as a bridge between Angular's component paradigm and the Web Component's custom element API:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Angular App \u2192 Angular Wrapper \u2192 Web Component \u2192 PivotHead Engine\n    \u2191            \u2191                  \u2191              \u2191\n Templates    ViewChild         Custom Element   Core Logic\n"})}),"\n",(0,o.jsx)(n.h3,{id:"key-components",children:"Key Components"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"PivotHeadWrapperComponent"}),": Main Angular wrapper component"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Type Definitions"}),": Comprehensive TypeScript interfaces exported from the package"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Event Emitters"}),": Angular-friendly @Output() decorators for all events"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Input Properties"}),": Reactive @Input() decorators for data and configuration"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ViewChild Reference"}),": Direct access to web component methods via template reference"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ConnectService Integration"}),": Built-in file import with WebAssembly and Web Workers"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.p,{children:"Install the Angular wrapper in your Angular project:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install @mindfiredigital/pivothead-angular\n"})}),"\n",(0,o.jsx)(n.p,{children:"The wrapper automatically includes the web component as a dependency, so no additional installations are needed."}),"\n",(0,o.jsx)(n.h3,{id:"peer-dependencies",children:"Peer Dependencies"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Angular \u2265 18"}),"\n",(0,o.jsx)(n.li,{children:"TypeScript \u2265 5.4"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"importing-the-component",children:"Importing the Component"}),"\n",(0,o.jsx)(n.p,{children:"The component is standalone and can be imported directly:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component } from '@angular/core';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-sales-dashboard',\n  standalone: true,\n  imports: [PivotHeadWrapperComponent],\n  template: `<pivot-head-wrapper [data]=\"salesData\" [options]=\"options\" />`,\n})\nexport class SalesDashboardComponent {\n  // Component logic\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,o.jsx)(n.h3,{id:"simple-integration",children:"Simple Integration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component } from '@angular/core';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\nimport type {\n  PivotOptions,\n  PivotDataRecord,\n} from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-basic-pivot',\n  standalone: true,\n  imports: [PivotHeadWrapperComponent],\n  template: `\n    <div>\n      <h1>Sales Dashboard</h1>\n      <pivot-head-wrapper\n        [mode]=\"'default'\"\n        [data]=\"salesData\"\n        [options]=\"options\"\n        (dataLoaded)=\"onDataLoaded($event)\"\n        (error)=\"onError($event)\"\n      />\n    </div>\n  `,\n})\nexport class BasicPivotComponent {\n  salesData: PivotDataRecord[] = [\n    { country: 'USA', category: 'Electronics', sales: 1500, discount: 150 },\n    { country: 'Canada', category: 'Cars', sales: 1800, discount: 90 },\n    {\n      country: 'Australia',\n      category: 'Accessories',\n      sales: 1200,\n      discount: 120,\n    },\n  ];\n\n  options: PivotOptions = {\n    rows: [{ uniqueName: 'country', caption: 'Country' }],\n    columns: [{ uniqueName: 'category', caption: 'Category' }],\n    measures: [\n      { uniqueName: 'sales', caption: 'Total Sales', aggregation: 'sum' },\n      { uniqueName: 'discount', caption: 'Total Discount', aggregation: 'sum' },\n    ],\n  };\n\n  onDataLoaded(event: any) {\n    console.log('Data loaded:', event.recordCount, 'records');\n  }\n\n  onError(event: any) {\n    console.error('Error:', event.message);\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"three-rendering-modes",children:"Three Rendering Modes"}),"\n",(0,o.jsx)(n.p,{children:"The Angular wrapper supports all three modes from the web component, each optimized for different use cases:"}),"\n",(0,o.jsx)(n.h3,{id:"1-default-mode",children:"1. Default Mode"}),"\n",(0,o.jsx)(n.p,{children:"Complete UI rendered by the component with built-in controls and functionality."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Features:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Full pivot table UI with rows, columns, and measures"}),"\n",(0,o.jsx)(n.li,{children:"Built-in controls for view switching, pagination, and export"}),"\n",(0,o.jsx)(n.li,{children:"Drag & drop support for reordering"}),"\n",(0,o.jsx)(n.li,{children:"Format popup for value formatting"}),"\n",(0,o.jsx)(n.li,{children:"Export to HTML, PDF, and Excel"}),"\n",(0,o.jsx)(n.li,{children:"Print functionality"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component, ViewChild } from '@angular/core';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-default-mode',\n  standalone: true,\n  imports: [PivotHeadWrapperComponent],\n  template: `\n    <div>\n      <div class=\"controls\">\n        <button (click)=\"switchToRawData()\">View Raw Data</button>\n        <button (click)=\"handleExport()\">Export Excel</button>\n        <button (click)=\"showFormatting()\">Format Values</button>\n      </div>\n\n      <pivot-head-wrapper\n        #pivotTable\n        [mode]=\"'default'\"\n        [data]=\"salesData\"\n        [options]=\"options\"\n        (stateChange)=\"onStateChange($event)\"\n        (viewModeChange)=\"onViewModeChange($event)\"\n      />\n    </div>\n  `,\n})\nexport class DefaultModeComponent {\n  @ViewChild('pivotTable') pivotTable!: PivotHeadWrapperComponent;\n\n  salesData = [\n    { country: 'USA', category: 'Electronics', sales: 1500 },\n    { country: 'Canada', category: 'Cars', sales: 1800 },\n  ];\n\n  options = {\n    rows: [{ uniqueName: 'country', caption: 'Country' }],\n    columns: [{ uniqueName: 'category', caption: 'Category' }],\n    measures: [\n      { uniqueName: 'sales', caption: 'Total Sales', aggregation: 'sum' },\n    ],\n  };\n\n  switchToRawData() {\n    this.pivotTable.setViewMode('raw');\n  }\n\n  handleExport() {\n    this.pivotTable.exportToExcel('sales-report');\n  }\n\n  showFormatting() {\n    this.pivotTable.showFormatPopup();\n  }\n\n  onStateChange(event: any) {\n    console.log('Pivot state changed:', event);\n  }\n\n  onViewModeChange(event: any) {\n    console.log('View mode:', event.mode);\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-minimal-mode",children:"2. Minimal Mode"}),"\n",(0,o.jsx)(n.p,{children:"Slot-based architecture where you provide custom header and body components using Angular content projection."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Features:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Core pivot logic without built-in UI"}),"\n",(0,o.jsx)(n.li,{children:"Custom header and body via Angular slots"}),"\n",(0,o.jsx)(n.li,{children:"Full access to processed pivot data"}),"\n",(0,o.jsx)(n.li,{children:"Complete styling control"}),"\n",(0,o.jsx)(n.li,{children:"Event-driven architecture"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component, ViewChild } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\nimport type { PivotTableState } from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-minimal-mode',\n  standalone: true,\n  imports: [CommonModule, PivotHeadWrapperComponent],\n  template: `\n    <div>\n      <pivot-head-wrapper\n        #pivotTable\n        [mode]=\"'minimal'\"\n        [data]=\"salesData\"\n        [options]=\"options\"\n        (stateChange)=\"handleStateChange($event)\"\n      >\n        \x3c!-- Custom Header Slot --\x3e\n        <div slot=\"header\" class=\"custom-header\">\n          <h2>Custom Pivot Table</h2>\n          <div class=\"controls\">\n            <button (click)=\"refresh()\">Refresh</button>\n            <button (click)=\"reset()\">Reset</button>\n            <button (click)=\"exportData()\">Export</button>\n          </div>\n        </div>\n\n        \x3c!-- Custom Body Slot --\x3e\n        <div slot=\"body\" class=\"custom-body\">\n          @if (pivotState) {\n            <div class=\"stats\">\n              <p>Total Records: {{ pivotState.data?.length || 0 }}</p>\n              <p>View Mode: {{ pivotState.viewMode }}</p>\n            </div>\n\n            <table class=\"custom-table\">\n              <thead>\n                <tr>\n                  @for (header of getHeaders(); track header) {\n                    <th>{{ header }}</th>\n                  }\n                </tr>\n              </thead>\n              <tbody>\n                @for (row of getRows(); track $index) {\n                  <tr>\n                    @for (cell of row; track $index) {\n                      <td>{{ cell }}</td>\n                    }\n                  </tr>\n                }\n              </tbody>\n            </table>\n          }\n        </div>\n      </pivot-head-wrapper>\n    </div>\n  `,\n  styles: [\n    `\n      .custom-header {\n        padding: 1rem;\n        background: #f5f5f5;\n        border-bottom: 2px solid #667eea;\n      }\n\n      .custom-body {\n        padding: 1rem;\n      }\n\n      .custom-table {\n        width: 100%;\n        border-collapse: collapse;\n      }\n\n      .custom-table th,\n      .custom-table td {\n        padding: 0.75rem;\n        border: 1px solid #ddd;\n        text-align: left;\n      }\n\n      .custom-table th {\n        background: #667eea;\n        color: white;\n        font-weight: 600;\n      }\n    `,\n  ],\n})\nexport class MinimalModeComponent {\n  @ViewChild('pivotTable') pivotTable!: PivotHeadWrapperComponent;\n\n  salesData = [\n    { country: 'USA', category: 'Electronics', sales: 1500 },\n    { country: 'Canada', category: 'Cars', sales: 1800 },\n  ];\n\n  options = {\n    rows: [{ uniqueName: 'country', caption: 'Country' }],\n    columns: [{ uniqueName: 'category', caption: 'Category' }],\n    measures: [\n      { uniqueName: 'sales', caption: 'Total Sales', aggregation: 'sum' },\n    ],\n  };\n\n  pivotState: PivotTableState<any> | null = null;\n\n  handleStateChange(state: PivotTableState<any>) {\n    this.pivotState = state;\n  }\n\n  getHeaders(): string[] {\n    if (!this.pivotState?.data?.[0]) return [];\n    return Object.keys(this.pivotState.data[0]);\n  }\n\n  getRows(): any[][] {\n    if (!this.pivotState?.data) return [];\n    return this.pivotState.data.map(row => Object.values(row));\n  }\n\n  refresh() {\n    this.pivotTable.refresh();\n  }\n\n  reset() {\n    this.pivotTable.reset();\n  }\n\n  exportData() {\n    this.pivotTable.exportToExcel('custom-report');\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-none-mode",children:"3. None Mode"}),"\n",(0,o.jsx)(n.p,{children:"Headless mode with no UI - pure data processing logic only."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Features:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Pure pivot engine access"}),"\n",(0,o.jsx)(n.li,{children:"Complete UI control"}),"\n",(0,o.jsx)(n.li,{children:"Programmatic data access"}),"\n",(0,o.jsx)(n.li,{children:"Perfect for custom visualizations"}),"\n",(0,o.jsx)(n.li,{children:"Minimal overhead"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component, ViewChild, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\nimport type { PivotTableState } from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-headless-mode',\n  standalone: true,\n  imports: [CommonModule, PivotHeadWrapperComponent],\n  template: `\n    <div>\n      <pivot-head-wrapper\n        #pivotTable\n        [mode]=\"'none'\"\n        [data]=\"salesData\"\n        [options]=\"options\"\n        (stateChange)=\"handleStateChange($event)\"\n      />\n\n      <div class=\"dashboard\">\n        <h2>Custom Dashboard</h2>\n\n        <div class=\"metrics\">\n          <div class=\"metric-card\">\n            <h3>Total Records</h3>\n            <p class=\"value\">{{ pivotState?.data?.length || 0 }}</p>\n          </div>\n\n          <div class=\"metric-card\">\n            <h3>Total Sales</h3>\n            <p class=\"value\">{{ calculateTotalSales() | number: '1.2-2' }}</p>\n          </div>\n        </div>\n\n        <div class=\"custom-visualization\">\n          @for (item of pivotState?.data || []; track $index) {\n            <div class=\"data-card\">\n              <h4>{{ item.country }}</h4>\n              <p>Category: {{ item.category }}</p>\n              <p>Sales: {{ item.sales | number: '1.2-2' }}</p>\n            </div>\n          }\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      .dashboard {\n        padding: 2rem;\n      }\n\n      .metrics {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 1rem;\n        margin-bottom: 2rem;\n      }\n\n      .metric-card {\n        padding: 1.5rem;\n        background: #f8f9fa;\n        border-radius: 8px;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      }\n\n      .metric-card h3 {\n        margin: 0 0 0.5rem 0;\n        color: #666;\n        font-size: 0.875rem;\n      }\n\n      .metric-card .value {\n        margin: 0;\n        font-size: 2rem;\n        font-weight: bold;\n        color: #667eea;\n      }\n\n      .custom-visualization {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n        gap: 1rem;\n      }\n\n      .data-card {\n        padding: 1rem;\n        background: white;\n        border: 1px solid #ddd;\n        border-radius: 4px;\n      }\n    `,\n  ],\n})\nexport class HeadlessModeComponent implements OnInit {\n  @ViewChild('pivotTable') pivotTable!: PivotHeadWrapperComponent;\n\n  salesData = [\n    { country: 'USA', category: 'Electronics', sales: 1500 },\n    { country: 'Canada', category: 'Cars', sales: 1800 },\n    { country: 'Australia', category: 'Accessories', sales: 1200 },\n  ];\n\n  options = {\n    rows: [{ uniqueName: 'country', caption: 'Country' }],\n    columns: [{ uniqueName: 'category', caption: 'Category' }],\n    measures: [\n      { uniqueName: 'sales', caption: 'Total Sales', aggregation: 'sum' },\n    ],\n  };\n\n  pivotState: PivotTableState<any> | null = null;\n\n  ngOnInit() {\n    // Programmatically access the pivot engine\n    setTimeout(() => {\n      const state = this.pivotTable.getState();\n      console.log('Initial state:', state);\n    }, 100);\n  }\n\n  handleStateChange(state: PivotTableState<any>) {\n    this.pivotState = state;\n  }\n\n  calculateTotalSales(): number {\n    if (!this.pivotState?.data) return 0;\n    return this.pivotState.data.reduce(\n      (sum: number, item: any) => sum + (item.sales || 0),\n      0\n    );\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"file-import-capabilities",children:"File Import Capabilities"}),"\n",(0,o.jsx)(n.p,{children:"The Angular wrapper provides comprehensive file import capabilities with support for CSV, JSON, and generic file uploads. It features automatic WebAssembly acceleration and Web Workers for optimal performance."}),"\n",(0,o.jsx)(n.h3,{id:"connectservice-integration",children:"ConnectService Integration"}),"\n",(0,o.jsx)(n.p,{children:"The wrapper exposes all ConnectService methods for seamless file importing:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component, ViewChild } from '@angular/core';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\nimport type {\n  ConnectionOptions,\n  FileConnectionResult,\n} from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-file-import',\n  standalone: true,\n  imports: [PivotHeadWrapperComponent],\n  template: `\n    <div>\n      <h2>File Import Demo</h2>\n\n      <div class=\"import-controls\">\n        <button (click)=\"importCSV()\">Import CSV</button>\n        <button (click)=\"importJSON()\">Import JSON</button>\n        <button (click)=\"importAnyFile()\">Import Any File</button>\n\n        <input\n          type=\"file\"\n          (change)=\"handleFileUpload($event)\"\n          accept=\".csv,.json\"\n          #fileInput\n        />\n      </div>\n\n      <pivot-head-wrapper\n        #pivotTable\n        [mode]=\"'default'\"\n        (dataLoaded)=\"onDataLoaded($event)\"\n        (error)=\"onError($event)\"\n      />\n\n      @if (importResult) {\n        <div class=\"result\">\n          <h3>Import Result</h3>\n          <p>Status: {{ importResult.success ? 'Success' : 'Failed' }}</p>\n          <p>Records: {{ importResult.recordCount?.toLocaleString() }}</p>\n          <p>File Size: {{ formatBytes(importResult.fileSize || 0) }}</p>\n          <p>Parse Time: {{ importResult.parseTime }}ms</p>\n          <p>Performance Mode: {{ importResult.performanceMode }}</p>\n        </div>\n      }\n    </div>\n  `,\n})\nexport class FileImportComponent {\n  @ViewChild('pivotTable') pivotTable!: PivotHeadWrapperComponent;\n\n  importResult: FileConnectionResult | null = null;\n\n  // CSV Import with full configuration\n  async importCSV() {\n    const options: ConnectionOptions = {\n      csv: {\n        delimiter: ',',\n        hasHeader: true,\n        skipEmptyLines: true,\n        trimValues: true,\n      },\n      maxFileSize: 1024 * 1024 * 1024, // 1GB - WebAssembly is automatically used when available\n      useWorkers: true,\n      workerCount: 4, // Use 4 workers for parallel processing\n      chunkSizeBytes: 1024 * 1024 * 10, // 10MB chunks for streaming\n    };\n\n    try {\n      const result = await this.pivotTable.connectToLocalCSV(options);\n      this.importResult = result || null;\n      console.log('CSV Import Result:', result);\n    } catch (error: any) {\n      console.error('CSV Import Error:', error);\n    }\n  }\n\n  // JSON Import with schema validation\n  async importJSON() {\n    const options: ConnectionOptions = {\n      json: {\n        validateSchema: true,\n      },\n      maxFileSize: 1024 * 1024 * 1024, // 1GB\n      useWorkers: true,\n      workerCount: 4,\n    };\n\n    try {\n      const result = await this.pivotTable.connectToLocalJSON(options);\n      this.importResult = result || null;\n      console.log('JSON Import Result:', result);\n    } catch (error: any) {\n      console.error('JSON Import Error:', error);\n    }\n  }\n\n  // Import any supported file type\n  async importAnyFile() {\n    const options: ConnectionOptions = {\n      csv: {\n        delimiter: ',',\n        hasHeader: true,\n        skipEmptyLines: true,\n        trimValues: true,\n      },\n      json: {\n        validateSchema: true,\n      },\n      maxFileSize: 1024 * 1024 * 1024, // 1GB\n      useWorkers: true,\n      workerCount: 4,\n      chunkSizeBytes: 1024 * 1024 * 10,\n    };\n\n    try {\n      const result = await this.pivotTable.connectToLocalFile(options);\n      this.importResult = result || null;\n      console.log('File Import Result:', result);\n    } catch (error: any) {\n      console.error('File Import Error:', error);\n    }\n  }\n\n  // Handle file input upload\n  async handleFileUpload(event: Event) {\n    const input = event.target as HTMLInputElement;\n    const file = input.files?.[0];\n\n    if (file) {\n      try {\n        await this.pivotTable.loadFromFile(file);\n        console.log('File loaded:', file.name);\n      } catch (error: any) {\n        console.error('File load error:', error);\n      }\n    }\n  }\n\n  onDataLoaded(event: any) {\n    console.log('Data loaded:', event.recordCount, 'records');\n  }\n\n  onError(event: any) {\n    console.error('Error:', event.message, event.code);\n  }\n\n  formatBytes(bytes: number): string {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(2) + ' MB';\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"load-from-url",children:"Load from URL"}),"\n",(0,o.jsx)(n.p,{children:"Load data directly from a remote URL:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async loadFromRemoteURL() {\n  const dataUrl = 'https://example.com/data/sales.csv';\n\n  try {\n    await this.pivotTable.loadFromUrl(dataUrl);\n    console.log('Data loaded from URL');\n  } catch (error: any) {\n    console.error('URL load error:', error);\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"connection-options",children:"Connection Options"}),"\n",(0,o.jsx)(n.p,{children:"Complete configuration for file imports:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface ConnectionOptions {\n  // CSV-specific options\n  csv?: {\n    delimiter?: string; // Default: ','\n    hasHeader?: boolean; // Default: true\n    skipEmptyLines?: boolean; // Default: true\n    trimValues?: boolean; // Default: true\n    encoding?: string; // Default: 'utf-8'\n  };\n\n  // JSON-specific options\n  json?: {\n    validateSchema?: boolean; // Default: false\n  };\n\n  // General options\n  maxFileSize?: number; // Maximum file size in bytes (default: 100MB)\n  maxRecords?: number; // Maximum number of records to import\n  onProgress?: (progress: number) => void; // Progress callback (0-100)\n\n  // Performance options\n  useWorkers?: boolean; // Enable Web Workers (default: false)\n  workerCount?: number; // Number of workers (default: navigator.hardwareConcurrency)\n  chunkSizeBytes?: number; // Chunk size for streaming (default: 1MB)\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"webassembly--web-workers",children:"WebAssembly & Web Workers"}),"\n",(0,o.jsx)(n.p,{children:"The file import system automatically uses WebAssembly for maximum performance when available, with graceful fallback to Web Workers:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Performance Strategy:"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"WebAssembly (Fastest)"})," - If WASM module is available, uses compiled AssemblyScript for CSV parsing"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Web Workers (Fast)"})," - Falls back to parallel processing with multiple workers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Synchronous (Fallback)"})," - Final fallback for older browsers"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example with Performance Optimization:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const options: ConnectionOptions = {\n  csv: {\n    delimiter: ',',\n    hasHeader: true,\n    skipEmptyLines: true,\n    trimValues: true,\n  },\n  maxFileSize: 1024 * 1024 * 1024, // 1GB - Large file support\n  useWorkers: true, // Enable parallel processing\n  workerCount: 4, // Use 4 workers\n  chunkSizeBytes: 1024 * 1024 * 10, // 10MB chunks for streaming\n  onProgress: progress => {\n    console.log(`Import progress: ${progress}%`);\n  },\n};\n\nconst result = await this.pivotTable.connectToLocalCSV(options);\n\n// Performance metrics\nconsole.log('Performance Mode:', result?.performanceMode); // 'wasm', 'workers', or 'sync'\nconsole.log('Parse Time:', result?.parseTime, 'ms');\nconsole.log('Records:', result?.recordCount);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"component-api",children:"Component API"}),"\n",(0,o.jsx)(n.h3,{id:"inputs-input",children:"Inputs (@Input)"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Property"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Default"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"data"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PivotDataRecord[]"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"undefined"})}),(0,o.jsx)(n.td,{children:"Array of data objects to process"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"options"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PivotOptions"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"undefined"})}),(0,o.jsx)(n.td,{children:"Pivot configuration (rows, columns, measures)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"filters"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"FilterConfig[]"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"undefined"})}),(0,o.jsx)(n.td,{children:"Array of filter configurations"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"pagination"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PaginationConfig"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"undefined"})}),(0,o.jsx)(n.td,{children:"Pagination settings"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"mode"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"'default' | 'minimal' | 'none'"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"'default'"})}),(0,o.jsx)(n.td,{children:"Rendering mode"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"outputs-output",children:"Outputs (@Output)"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Event"}),(0,o.jsx)(n.th,{children:"Payload"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"stateChange"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PivotTableState"})}),(0,o.jsx)(n.td,{children:"Emitted when pivot state changes"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"viewModeChange"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"{ mode: 'raw' | 'processed' }"})}),(0,o.jsx)(n.td,{children:"Emitted when view mode switches"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"paginationChange"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PaginationConfig"})}),(0,o.jsx)(n.td,{children:"Emitted when pagination changes"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"dataLoaded"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"{ recordCount: number, fileSize?: number }"})}),(0,o.jsx)(n.td,{children:"Emitted when data is loaded"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"error"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"{ message: string, code?: string }"})}),(0,o.jsx)(n.td,{children:"Emitted when an error occurs"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"public-methods",children:"Public Methods"}),"\n",(0,o.jsx)(n.p,{children:"Access these methods via ViewChild reference:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"State Management:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"getState(): PivotTableState | undefined\nrefresh(): void\nreset(): void\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Data Operations:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"getData(): PivotDataRecord[] | undefined\ngetProcessedData(): unknown | undefined\ngetRawData(): PivotDataRecord[] | undefined\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Sorting & Filtering:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"sort(field: string, direction: 'asc' | 'desc'): void\ngetFilters(): FilterConfig[] | undefined\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"setMeasures(measures: MeasureConfig[]): void\nsetDimensions(dimensions: Dimension[]): void\nsetGroupConfig(config: GroupConfig | null): void\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Pagination:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"getPagination(): PaginationConfig | undefined\nsetPageSize(size: number): void\ngoToPage(page: number): void\npreviousPage(): void\nnextPage(): void\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"View Control:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"setViewMode(mode: 'raw' | 'processed'): void\ngetViewMode(): 'raw' | 'processed' | undefined\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Formatting:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"formatValue(value: unknown, field: string): string | undefined\nupdateFieldFormatting(field: string, format: FormatOptions): void\ngetFieldAlignment(field: string): string | undefined\nshowFormatPopup(): void\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Export:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"exportToHTML(fileName?: string): void\nexportToPDF(fileName?: string): void\nexportToExcel(fileName?: string): void\nopenPrintDialog(): void\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Drag & Drop:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"swapRows(from: number, to: number): void\nswapColumns(from: number, to: number): void\ndragRow(fromIndex: number, toIndex: number): void\ndragColumn(fromIndex: number, toIndex: number): void\nsetDragAndDropEnabled(enabled: boolean): void\nisDragAndDropEnabled(): boolean | undefined\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"File Import:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"loadFromFile(file: File): Promise<void>\nloadFromUrl(url: string): Promise<void>\nconnectToLocalCSV(options?: ConnectionOptions): Promise<FileConnectionResult | undefined>\nconnectToLocalJSON(options?: ConnectionOptions): Promise<FileConnectionResult | undefined>\nconnectToLocalFile(options?: ConnectionOptions): Promise<FileConnectionResult | undefined>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Field Introspection:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"getAvailableFields(): FieldInfo[] | undefined\ngetSupportedAggregations(): AggregationType[] | undefined\nsetMeasureAggregation(field: string, aggregation: AggregationType): void\nbuildLayout(selection: LayoutSelection): void\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Grouping:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"getGroupedData(): Group[] | undefined\n"})}),"\n",(0,o.jsx)(n.h2,{id:"typescript-support",children:"TypeScript Support"}),"\n",(0,o.jsx)(n.p,{children:"The package exports comprehensive TypeScript types for an excellent developer experience:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import type {\n  // Core Types\n  PivotHeadElement,\n  PivotOptions,\n  PivotDataRecord,\n  PivotTableState,\n\n  // Configuration Types\n  FilterConfig,\n  PaginationConfig,\n  MeasureConfig,\n  Dimension,\n  GroupConfig,\n  FormatOptions,\n\n  // File Import Types\n  ConnectionOptions,\n  FileConnectionResult,\n  CSVParseOptions,\n  JSONParseOptions,\n\n  // Field Types\n  FieldInfo,\n  LayoutSelection,\n\n  // Enums\n  AggregationType,\n\n  // Data Types\n  Group,\n} from '@mindfiredigital/pivothead-angular';\n"})}),"\n",(0,o.jsx)(n.h2,{id:"advanced-examples",children:"Advanced Examples"}),"\n",(0,o.jsx)(n.h3,{id:"dynamic-configuration",children:"Dynamic Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component, ViewChild } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\nimport type {\n  PivotOptions,\n  AggregationType,\n} from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-dynamic-pivot',\n  standalone: true,\n  imports: [CommonModule, FormsModule, PivotHeadWrapperComponent],\n  template: `\n    <div>\n      <div class=\"config-panel\">\n        <h3>Configuration</h3>\n\n        <div>\n          <label>Aggregation Type:</label>\n          <select\n            [(ngModel)]=\"selectedAggregation\"\n            (change)=\"updateAggregation()\"\n          >\n            <option value=\"sum\">Sum</option>\n            <option value=\"avg\">Average</option>\n            <option value=\"count\">Count</option>\n            <option value=\"min\">Min</option>\n            <option value=\"max\">Max</option>\n          </select>\n        </div>\n\n        <div>\n          <label>Page Size:</label>\n          <input\n            type=\"number\"\n            [(ngModel)]=\"pageSize\"\n            (change)=\"updatePageSize()\"\n            min=\"5\"\n            max=\"100\"\n          />\n        </div>\n\n        <button (click)=\"switchViewMode()\">\n          {{ currentViewMode === 'raw' ? 'Show Processed' : 'Show Raw' }}\n        </button>\n      </div>\n\n      <pivot-head-wrapper\n        #pivotTable\n        [mode]=\"'default'\"\n        [data]=\"salesData\"\n        [options]=\"options\"\n        [pagination]=\"paginationConfig\"\n        (stateChange)=\"onStateChange($event)\"\n      />\n    </div>\n  `,\n})\nexport class DynamicPivotComponent {\n  @ViewChild('pivotTable') pivotTable!: PivotHeadWrapperComponent;\n\n  selectedAggregation: AggregationType = 'sum';\n  pageSize = 10;\n  currentViewMode: 'raw' | 'processed' = 'processed';\n\n  salesData = [\n    { country: 'USA', category: 'Electronics', sales: 1500 },\n    { country: 'Canada', category: 'Cars', sales: 1800 },\n    // ... more data\n  ];\n\n  options: PivotOptions = {\n    rows: [{ uniqueName: 'country', caption: 'Country' }],\n    columns: [{ uniqueName: 'category', caption: 'Category' }],\n    measures: [\n      { uniqueName: 'sales', caption: 'Total Sales', aggregation: 'sum' },\n    ],\n  };\n\n  paginationConfig = {\n    pageSize: 10,\n    currentPage: 1,\n  };\n\n  updateAggregation() {\n    this.pivotTable.setMeasureAggregation('sales', this.selectedAggregation);\n  }\n\n  updatePageSize() {\n    this.pivotTable.setPageSize(this.pageSize);\n  }\n\n  switchViewMode() {\n    this.currentViewMode = this.currentViewMode === 'raw' ? 'processed' : 'raw';\n    this.pivotTable.setViewMode(this.currentViewMode);\n  }\n\n  onStateChange(state: any) {\n    console.log('State updated:', state);\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"field-introspection--dynamic-layout",children:"Field Introspection & Dynamic Layout"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Component, ViewChild, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { PivotHeadWrapperComponent } from '@mindfiredigital/pivothead-angular';\nimport type {\n  FieldInfo,\n  LayoutSelection,\n} from '@mindfiredigital/pivothead-angular';\n\n@Component({\n  selector: 'app-field-introspection',\n  standalone: true,\n  imports: [CommonModule, FormsModule, PivotHeadWrapperComponent],\n  template: `\n    <div>\n      <div class=\"field-selector\">\n        <h3>Build Your Layout</h3>\n\n        <div class=\"available-fields\">\n          <h4>Available Fields</h4>\n          @for (field of availableFields; track field.name) {\n            <div class=\"field-item\">\n              <span>{{ field.caption }} ({{ field.type }})</span>\n              <button (click)=\"addToRows(field.name)\">\u2192 Rows</button>\n              <button (click)=\"addToColumns(field.name)\">\u2192 Columns</button>\n              <button (click)=\"addToMeasures(field.name)\">\u2192 Measures</button>\n            </div>\n          }\n        </div>\n\n        <div class=\"layout-config\">\n          <div>\n            <h4>Rows</h4>\n            <ul>\n              @for (row of selectedRows; track row) {\n                <li>{{ row }}</li>\n              }\n            </ul>\n          </div>\n\n          <div>\n            <h4>Columns</h4>\n            <ul>\n              @for (col of selectedColumns; track col) {\n                <li>{{ col }}</li>\n              }\n            </ul>\n          </div>\n\n          <div>\n            <h4>Measures</h4>\n            @for (measure of selectedMeasures; track measure.field) {\n              <div>\n                {{ measure.field }}:\n                <select [(ngModel)]=\"measure.aggregation\">\n                  @for (agg of supportedAggregations; track agg) {\n                    <option [value]=\"agg\">{{ agg }}</option>\n                  }\n                </select>\n              </div>\n            }\n          </div>\n        </div>\n\n        <button (click)=\"applyLayout()\">Apply Layout</button>\n      </div>\n\n      <pivot-head-wrapper\n        #pivotTable\n        [mode]=\"'default'\"\n        [data]=\"salesData\"\n        (dataLoaded)=\"onDataLoaded()\"\n      />\n    </div>\n  `,\n})\nexport class FieldIntrospectionComponent implements OnInit {\n  @ViewChild('pivotTable') pivotTable!: PivotHeadWrapperComponent;\n\n  availableFields: FieldInfo[] = [];\n  supportedAggregations: string[] = [];\n\n  selectedRows: string[] = [];\n  selectedColumns: string[] = [];\n  selectedMeasures: Array<{ field: string; aggregation: string }> = [];\n\n  salesData = [\n    { country: 'USA', category: 'Electronics', sales: 1500, profit: 300 },\n    { country: 'Canada', category: 'Cars', sales: 1800, profit: 450 },\n  ];\n\n  ngOnInit() {\n    // Give the component time to initialize\n    setTimeout(() => {\n      this.loadFieldInfo();\n    }, 100);\n  }\n\n  onDataLoaded() {\n    this.loadFieldInfo();\n  }\n\n  loadFieldInfo() {\n    this.availableFields = this.pivotTable.getAvailableFields() || [];\n    this.supportedAggregations =\n      this.pivotTable.getSupportedAggregations() || [];\n    console.log('Available fields:', this.availableFields);\n    console.log('Supported aggregations:', this.supportedAggregations);\n  }\n\n  addToRows(field: string) {\n    if (!this.selectedRows.includes(field)) {\n      this.selectedRows.push(field);\n    }\n  }\n\n  addToColumns(field: string) {\n    if (!this.selectedColumns.includes(field)) {\n      this.selectedColumns.push(field);\n    }\n  }\n\n  addToMeasures(field: string) {\n    if (!this.selectedMeasures.find(m => m.field === field)) {\n      this.selectedMeasures.push({\n        field,\n        aggregation: this.supportedAggregations[0] || 'sum',\n      });\n    }\n  }\n\n  applyLayout() {\n    const layout: LayoutSelection = {\n      rows: this.selectedRows,\n      columns: this.selectedColumns,\n      measures: this.selectedMeasures.map(m => ({\n        field: m.field,\n        aggregation: m.aggregation as any,\n      })),\n    };\n\n    this.pivotTable.buildLayout(layout);\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"1-use-viewchild-for-method-access",children:"1. Use ViewChild for Method Access"}),"\n",(0,o.jsx)(n.p,{children:"Always use ViewChild with proper typing for accessing component methods:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"@ViewChild('pivotTable') pivotTable!: PivotHeadWrapperComponent;\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-handle-lifecycle-properly",children:"2. Handle Lifecycle Properly"}),"\n",(0,o.jsxs)(n.p,{children:["Wait for ",(0,o.jsx)(n.code,{children:"AfterViewInit"})," or use event callbacks before accessing component methods:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"ngAfterViewInit() {\n  // Safe to call methods here\n  const state = this.pivotTable.getState();\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-type-your-data",children:"3. Type Your Data"}),"\n",(0,o.jsx)(n.p,{children:"Use TypeScript types for better type safety:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface SalesRecord {\n  country: string;\n  category: string;\n  sales: number;\n  profit: number;\n}\n\nsalesData: SalesRecord[] = [\n  // ...\n];\n"})}),"\n",(0,o.jsx)(n.h3,{id:"4-optimize-large-datasets",children:"4. Optimize Large Datasets"}),"\n",(0,o.jsx)(n.p,{children:"For large datasets, use Web Workers and chunked processing:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const options: ConnectionOptions = {\n  useWorkers: true,\n  workerCount: 4,\n  chunkSizeBytes: 1024 * 1024 * 10, // 10MB chunks\n  onProgress: progress => {\n    this.loadingProgress = progress;\n  },\n};\n"})}),"\n",(0,o.jsx)(n.h3,{id:"5-handle-errors",children:"5. Handle Errors"}),"\n",(0,o.jsx)(n.p,{children:"Always implement error handling for file imports:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"try {\n  const result = await this.pivotTable.connectToLocalCSV(options);\n  if (result?.success) {\n    console.log('Import successful');\n  } else {\n    console.error('Import failed:', result?.error);\n  }\n} catch (error) {\n  console.error('Import error:', error);\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"6-use-reactive-patterns",children:"6. Use Reactive Patterns"}),"\n",(0,o.jsx)(n.p,{children:"Leverage Angular's reactive patterns with RxJS:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Subject, debounceTime } from 'rxjs';\n\nprivate stateChange$ = new Subject<PivotTableState>();\n\nngOnInit() {\n  this.stateChange$\n    .pipe(debounceTime(300))\n    .subscribe(state => {\n      // Handle state changes with debounce\n      console.log('State changed:', state);\n    });\n}\n\nonStateChange(state: PivotTableState) {\n  this.stateChange$.next(state);\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,o.jsx)(n.h3,{id:"change-detection",children:"Change Detection"}),"\n",(0,o.jsx)(n.p,{children:"The wrapper is optimized for Angular's change detection:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Uses ",(0,o.jsx)(n.code,{children:"OnPush"})," strategy where applicable"]}),"\n",(0,o.jsx)(n.li,{children:"Synchronizes only changed inputs"}),"\n",(0,o.jsx)(n.li,{children:"Minimal re-rendering"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"memory-management",children:"Memory Management"}),"\n",(0,o.jsx)(n.p,{children:"For large datasets:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"// Use pagination to limit DOM nodes\npaginationConfig = {\n  pageSize: 50,\n  currentPage: 1\n};\n\n// Clear data when component is destroyed\nngOnDestroy() {\n  this.pivotTable?.reset();\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"lazy-loading",children:"Lazy Loading"}),"\n",(0,o.jsx)(n.p,{children:"Load data on demand:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async loadDataOnDemand() {\n  // Show loading indicator\n  this.isLoading = true;\n\n  try {\n    await this.pivotTable.loadFromUrl(this.dataUrl);\n  } finally {\n    this.isLoading = false;\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,o.jsx)(n.p,{children:"The PivotHead Angular Wrapper provides a robust, type-safe integration that feels native to Angular applications. With comprehensive TypeScript support, reactive data binding, and powerful file import capabilities accelerated by WebAssembly and Web Workers, it offers maximum flexibility and performance."}),"\n",(0,o.jsx)(n.h3,{id:"key-strengths",children:"Key Strengths"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Native Angular Integration"}),": Feels like a natural part of Angular with proper lifecycle hooks and change detection"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Three Flexible Modes"}),": Choose from default (full UI), minimal (slot-based), or none (headless)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Type Safety"}),": Full TypeScript support with comprehensive type definitions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"File Import"}),": Native support for CSV, JSON with WebAssembly acceleration and Web Workers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Performance"}),": Optimized for large datasets with chunked processing and parallel workers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Testability"}),": Easy to mock and test with Angular's testing utilities"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,o.jsx)(n.p,{children:"The Angular wrapper excels in:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Enterprise Dashboards"}),": Building complex BI tools with custom styling"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Data-Heavy Applications"}),": Processing large CSV/JSON files up to 1GB"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Admin Panels"}),": Creating advanced data tables with drag & drop"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Reporting Tools"}),": Generating custom reports with export capabilities"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Performance-Critical Apps"}),": Leveraging WebAssembly for maximum speed"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var i=t(6540);const o={},r=i.createContext(o);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);