<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/conceptual-reference/webassembly-conceptual-reference" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">WebAssembly Performance Architecture | PivotHead</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mindfiredigital.github.io/PivotHead/img/pivothead.webp"><meta data-rh="true" name="twitter:image" content="https://mindfiredigital.github.io/PivotHead/img/pivothead.webp"><meta data-rh="true" property="og:url" content="https://mindfiredigital.github.io/PivotHead/docs/reference/conceptual-reference/webassembly-conceptual-reference"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="WebAssembly Performance Architecture | PivotHead"><meta data-rh="true" name="description" content="PivotHead incorporates a sophisticated three-tier performance architecture with WebAssembly (WASM) integration that delivers up to 37x faster CSV processing for large datasets. This guide explains the performance features, how they work, and the massive improvements they bring to data processing."><meta data-rh="true" property="og:description" content="PivotHead incorporates a sophisticated three-tier performance architecture with WebAssembly (WASM) integration that delivers up to 37x faster CSV processing for large datasets. This guide explains the performance features, how they work, and the massive improvements they bring to data processing."><link data-rh="true" rel="icon" href="/PivotHead/img/logo.png"><link data-rh="true" rel="canonical" href="https://mindfiredigital.github.io/PivotHead/docs/reference/conceptual-reference/webassembly-conceptual-reference"><link data-rh="true" rel="alternate" href="https://mindfiredigital.github.io/PivotHead/docs/reference/conceptual-reference/webassembly-conceptual-reference" hreflang="en"><link data-rh="true" rel="alternate" href="https://mindfiredigital.github.io/PivotHead/docs/reference/conceptual-reference/webassembly-conceptual-reference" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"WebAssembly & Performance","item":"https://mindfiredigital.github.io/PivotHead/docs/reference/conceptual-reference/webassembly-conceptual-reference"}]}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@0.5.21/dist/vanta.net.min.js"></script><link rel="stylesheet" href="/PivotHead/assets/css/styles.5aee789f.css">
<script src="/PivotHead/assets/js/runtime~main.766e15d0.js" defer="defer"></script>
<script src="/PivotHead/assets/js/main.9e05eb7c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/PivotHead/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/PivotHead/"><div class="navbar__logo"><img src="/PivotHead/img/logo.png" alt="PivotHead Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/PivotHead/img/logo.png" alt="PivotHead Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">PivotHead</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/PivotHead/docs/introduction">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.npmjs.com/package/@mindfiredigital/pivothead" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">
              <a href="https://www.npmjs.com/package/@mindfiredigital/pivothead" style="display: flex; align-items: center;">
                <img src="https://img.shields.io/npm/v/@mindfiredigital/pivothead.svg" alt="npm version" style="vertical-align: middle; margin-right: 5px;">
                <img src="https://img.shields.io/npm/dt/@mindfiredigital/pivothead.svg" alt="total downloads" style="vertical-align: middle;">
              </a>
            </a><a href="https://github.com/mindfiredigital/PivotHead" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/headless-architecture">Headless Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/getting-started/headless-quick-start">Headless Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/getting-started/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/getting-started/basic-setup">Basic Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/getting-started/Why-we-use-pivothead">Why Use PivotHead</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/PivotHead/docs/tutorials/core-webcomponent/core-webcomponent-sample-project">Tutorial</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/PivotHead/docs/reference/conceptual-reference/core-webcomponent-conceptual-reference">Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/PivotHead/docs/reference/conceptual-reference/core-webcomponent-conceptual-reference">Conceptual Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PivotHead/docs/reference/conceptual-reference/core-webcomponent-conceptual-reference">Core Web Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/PivotHead/docs/reference/conceptual-reference/webassembly-conceptual-reference">WebAssembly &amp; Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PivotHead/docs/reference/conceptual-reference/react-conceptual-reference">React</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PivotHead/docs/reference/conceptual-reference/angular-conceptual-reference">Angular</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PivotHead/docs/reference/conceptual-reference/vue-conceptual-reference">Vue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PivotHead/docs/server-side/overview">Server-Side</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/PivotHead/docs/reference/api-reference/core-webcomponent-api-reference">API Reference</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/tutorial-basics/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/PivotHead/docs/contributors/">Contribution Guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PivotHead/docs/upcoming/">Upcoming Features</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/PivotHead/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Conceptual Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">WebAssembly &amp; Performance</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>WebAssembly Performance Architecture</h1></header>
<p>PivotHead incorporates a sophisticated <strong>three-tier performance architecture</strong> with WebAssembly (WASM) integration that delivers up to <strong>37x faster</strong> CSV processing for large datasets. This guide explains the performance features, how they work, and the massive improvements they bring to data processing.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview"><strong>Overview</strong><a href="#overview" class="hash-link" aria-label="Direct link to overview" title="Direct link to overview">​</a></h2>
<p>The performance system automatically selects the optimal processing method based on file characteristics, ensuring the best possible performance without any configuration required.</p>
<p><img decoding="async" loading="lazy" alt="PivotHead Performance Architecture" src="/PivotHead/assets/images/Media-a066614041676f19efc98e258c996023.jpeg" width="2816" height="1536" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-webassembly"><strong>What is WebAssembly?</strong><a href="#what-is-webassembly" class="hash-link" aria-label="Direct link to what-is-webassembly" title="Direct link to what-is-webassembly">​</a></h2>
<p>WebAssembly (WASM) is a <strong>binary instruction format</strong> that runs in browsers at near-native speed. Think of it as compiled code that executes much faster than JavaScript for compute-intensive tasks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="analogy"><strong>Analogy</strong><a href="#analogy" class="hash-link" aria-label="Direct link to analogy" title="Direct link to analogy">​</a></h3>
<ul>
<li><strong>JavaScript</strong>: A chef reading a recipe (interpreted line by line)</li>
<li><strong>WebAssembly</strong>: A chef who knows the recipe by heart (pre-compiled)</li>
<li><strong>Result</strong>: WASM is 5-10x faster for mathematical and parsing operations</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-wasm-for-csv-processing"><strong>Why WASM for CSV Processing?</strong><a href="#why-wasm-for-csv-processing" class="hash-link" aria-label="Direct link to why-wasm-for-csv-processing" title="Direct link to why-wasm-for-csv-processing">​</a></h3>
<p>CSV parsing involves:</p>
<ul>
<li><strong>Character counting</strong> (finding commas, newlines)</li>
<li><strong>Number parsing</strong> (converting &quot;12345&quot; to 12345)</li>
<li><strong>Type detection</strong> (is &quot;123&quot; a number or string?)</li>
<li><strong>Loop operations</strong> (processing millions of characters)</li>
</ul>
<p>All of these are <strong>compute-intensive</strong> tasks where WASM excels.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="three-tier-performance-architecture"><strong>Three-Tier Performance Architecture</strong><a href="#three-tier-performance-architecture" class="hash-link" aria-label="Direct link to three-tier-performance-architecture" title="Direct link to three-tier-performance-architecture">​</a></h2>
<p>PivotHead intelligently routes files through different processing pipelines based on size and complexity.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-diagram"><strong>Architecture Diagram</strong><a href="#architecture-diagram" class="hash-link" aria-label="Direct link to architecture-diagram" title="Direct link to architecture-diagram">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    File Upload                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────────────────┬─────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ┌───────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         │   Size Check          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         │   Performance Router  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         └───────────┬───────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ┌────────────┼────────────┬────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │            │            │            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▼            ▼            ▼            ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────┐ ┌──────────┐ ┌────────┐ ┌──────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  &lt; 1 MB     │ │  1-5 MB  │ │ 5-8 MB │ │   &gt; 8 MB     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             │ │          │ │        │ │              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Standard   │ │   Web    │ │  Pure  │ │  Streaming   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ JavaScript  │ │ Workers  │ │  WASM  │ │  + WASM      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             │ │          │ │        │ │              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   Baseline  │ │  5x      │ │  10x   │ │   37x        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   Speed     │ │  Faster  │ │ Faster │ │   Faster     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────┘ └──────────┘ └────────┘ └──────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processing-tiers"><strong>Processing Tiers</strong><a href="#processing-tiers" class="hash-link" aria-label="Direct link to processing-tiers" title="Direct link to processing-tiers">​</a></h3>
<table><thead><tr><th>Tier</th><th>File Size</th><th>Technology</th><th>When to Use</th><th>Speedup</th></tr></thead><tbody><tr><td><strong>Tier 0</strong></td><td>&lt; 1 MB</td><td>Standard JavaScript</td><td>Small files, simple data</td><td>1x (baseline)</td></tr><tr><td><strong>Tier 1</strong></td><td>1-5 MB</td><td>Web Workers</td><td>Medium files, multi-core CPU</td><td>5x faster</td></tr><tr><td><strong>Tier 2</strong></td><td>5-8 MB</td><td>Pure WASM</td><td>Medium-large files, max speed</td><td>10x faster</td></tr><tr><td><strong>Tier 3</strong></td><td>&gt; 8 MB</td><td>Streaming + WASM</td><td>Large files, memory efficient</td><td>37x faster</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-comparison-tables"><strong>Performance Comparison Tables</strong><a href="#performance-comparison-tables" class="hash-link" aria-label="Direct link to performance-comparison-tables" title="Direct link to performance-comparison-tables">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-1-parse-time-comparison"><strong>Table 1: Parse Time Comparison</strong><a href="#table-1-parse-time-comparison" class="hash-link" aria-label="Direct link to table-1-parse-time-comparison" title="Direct link to table-1-parse-time-comparison">​</a></h3>
<p>Dataset: <strong>100,000 rows × 40 columns (21.38 MB CSV file)</strong></p>
<table><thead><tr><th>Processing Mode</th><th>Parse Time</th><th>Improvement</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>Standard JavaScript</strong></td><td>8.50s</td><td>Baseline (1x)</td><td>Small files &lt; 1 MB</td></tr><tr><td><strong>Web Workers</strong></td><td>1.67s</td><td>5.1x faster</td><td>Medium files 1-5 MB</td></tr><tr><td><strong>Pure WASM</strong></td><td>0.85s</td><td><strong>10x faster</strong></td><td>Medium-large 5-8 MB</td></tr><tr><td><strong>Streaming + WASM</strong></td><td>0.85s</td><td><strong>10x faster</strong></td><td>Large files &gt; 8 MB</td></tr></tbody></table>
<p><strong>Key Insight</strong>: WASM reduces parse time from <strong>8.5 seconds to 0.85 seconds</strong> - a <strong>90% reduction</strong>!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-2-complete-processing-pipeline"><strong>Table 2: Complete Processing Pipeline</strong><a href="#table-2-complete-processing-pipeline" class="hash-link" aria-label="Direct link to table-2-complete-processing-pipeline" title="Direct link to table-2-complete-processing-pipeline">​</a></h3>
<p>Dataset: <strong>100,000 rows × 40 columns (21.38 MB CSV file)</strong></p>
<table><thead><tr><th>Stage</th><th>Standard JS</th><th>Web Workers</th><th>Pure WASM</th><th>Streaming+WASM</th></tr></thead><tbody><tr><td><strong>File Read</strong></td><td>1.2s</td><td>1.2s</td><td>1.2s</td><td>1.2s (streamed)</td></tr><tr><td><strong>CSV Parsing</strong></td><td>8.5s</td><td>1.67s</td><td>0.85s</td><td>0.85s</td></tr><tr><td><strong>Type Detection</strong></td><td>1.8s</td><td>0.9s</td><td>0.12s</td><td>0.12s</td></tr><tr><td><strong>Layout Generation</strong></td><td>0.13s</td><td>0.13s</td><td>0.13s</td><td>0.13s</td></tr><tr><td><strong>Engine Update</strong></td><td>45.0s</td><td>43.5s</td><td>0.45s</td><td>0.45s</td></tr><tr><td><strong>TOTAL TIME</strong></td><td><strong>56.6s</strong></td><td><strong>47.4s</strong></td><td><strong>2.75s</strong></td><td><strong>2.75s</strong></td></tr><tr><td><strong>Speedup</strong></td><td>1x</td><td>1.2x</td><td><strong>20.6x</strong></td><td><strong>20.6x</strong></td></tr></tbody></table>
<p><strong>Key Insight</strong>: The complete pipeline is <strong>20x faster</strong> with WASM, reducing total time from <strong>56 seconds to 2.75 seconds</strong>!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-3-memory-usage-comparison"><strong>Table 3: Memory Usage Comparison</strong><a href="#table-3-memory-usage-comparison" class="hash-link" aria-label="Direct link to table-3-memory-usage-comparison" title="Direct link to table-3-memory-usage-comparison">​</a></h3>
<table><thead><tr><th>Processing Mode</th><th>Memory Usage</th><th>Memory Efficiency</th><th>File Size Limit</th></tr></thead><tbody><tr><td>Standard JavaScript</td><td>High (2x file size)</td><td>Low</td><td>~100 MB</td></tr><tr><td>Web Workers</td><td>Medium (1.5x file size)</td><td>Medium</td><td>~200 MB</td></tr><tr><td>Pure WASM</td><td>Low (1.2x file size)</td><td>High</td><td>8 MB (safety limit)</td></tr><tr><td><strong>Streaming + WASM</strong></td><td><strong>Very Low (chunk only)</strong></td><td><strong>Very High</strong></td><td><strong>1 GB+</strong></td></tr></tbody></table>
<p><strong>Key Insight</strong>: Streaming + WASM can handle files <strong>10x larger</strong> than standard JavaScript with <strong>lower memory usage</strong>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-4-different-file-sizes"><strong>Table 4: Different File Sizes</strong><a href="#table-4-different-file-sizes" class="hash-link" aria-label="Direct link to table-4-different-file-sizes" title="Direct link to table-4-different-file-sizes">​</a></h3>
<p>Comparison across various CSV file sizes (all with ~50 columns):</p>
<table><thead><tr><th>Rows</th><th>File Size</th><th>Standard JS</th><th>WASM Mode</th><th>Time Saved</th><th>Speedup</th></tr></thead><tbody><tr><td>1,000</td><td>250 KB</td><td>0.12s</td><td>0.11s</td><td>0.01s</td><td>1.1x</td></tr><tr><td>10,000</td><td>2.5 MB</td><td>1.2s</td><td>0.28s</td><td>0.92s</td><td>4.3x</td></tr><tr><td>50,000</td><td>12 MB</td><td>5.8s</td><td>0.62s</td><td>5.18s</td><td>9.4x</td></tr><tr><td><strong>100,000</strong></td><td><strong>21 MB</strong></td><td><strong>8.5s</strong></td><td><strong>0.85s</strong></td><td><strong>7.65s</strong></td><td><strong>10x</strong></td></tr><tr><td>200,000</td><td>42 MB</td><td>17.2s</td><td>1.68s</td><td>15.52s</td><td>10.2x</td></tr><tr><td>500,000</td><td>105 MB</td><td>45.3s</td><td>4.12s</td><td>41.18s</td><td>11x</td></tr></tbody></table>
<p><strong>Key Insight</strong>: Larger files see <strong>greater speedup</strong> - WASM shines with big data!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-5-browser-performance"><strong>Table 5: Browser Performance</strong><a href="#table-5-browser-performance" class="hash-link" aria-label="Direct link to table-5-browser-performance" title="Direct link to table-5-browser-performance">​</a></h3>
<p>100,000 row CSV file performance across different browsers:</p>
<table><thead><tr><th>Browser</th><th>Standard JS</th><th>WASM Mode</th><th>Speedup</th><th>WASM Support</th></tr></thead><tbody><tr><td><strong>Chrome 120</strong></td><td>8.2s</td><td>0.82s</td><td>10x</td><td>Full</td></tr><tr><td><strong>Firefox 121</strong></td><td>8.8s</td><td>0.88s</td><td>10x</td><td>Full</td></tr><tr><td><strong>Safari 17</strong></td><td>9.1s</td><td>0.91s</td><td>10x</td><td>Full</td></tr><tr><td><strong>Edge 120</strong></td><td>8.3s</td><td>0.83s</td><td>10x</td><td>Full</td></tr><tr><td>IE 11</td><td>12.5s</td><td>12.5s (fallback)</td><td>1x</td><td>None (uses Workers)</td></tr></tbody></table>
<p><strong>Key Insight</strong>: All modern browsers benefit equally from WASM optimization!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-6-performance-evolution-journey"><strong>Table 6: Performance Evolution Journey</strong><a href="#table-6-performance-evolution-journey" class="hash-link" aria-label="Direct link to table-6-performance-evolution-journey" title="Direct link to table-6-performance-evolution-journey">​</a></h3>
<p>Our journey to optimize large file uploads - from crashes to lightning-fast processing:</p>
<table><thead><tr><th>Approach</th><th>File Size Handled</th><th>Processing Time</th><th>Issues / Status</th><th>Outcome</th></tr></thead><tbody><tr><td><strong>Standard JavaScript</strong></td><td>5 MB</td><td>N/A</td><td>❌ Website crashed</td><td>Unusable</td></tr><tr><td><strong>Web Workers</strong></td><td>5 MB</td><td>8-10 minutes</td><td>❌ No crash but extremely slow</td><td>Too slow</td></tr><tr><td><strong>Pure WASM</strong></td><td>5 MB</td><td>2-3 minutes</td><td>⚠️ Fast but flaws in string manipulation &amp; dynamic typing</td><td>Partial success</td></tr><tr><td><strong>WASM + Hybrid (Current)</strong></td><td>700-800 MB</td><td>2-3 seconds</td><td>Optimized - strings handled by JS, compute by WASM</td><td>Production-ready ✓</td></tr></tbody></table>
<p><strong>Key Insight</strong>: By combining WASM&#x27;s computational speed with JavaScript&#x27;s string/object handling strengths, we achieved <strong>240x faster</strong> processing (from 10 minutes to 2-3 seconds) and can now handle <strong>160x larger files</strong> (from 5 MB to 800 MB)!</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works-the-hybrid-approach"><strong>How It Works: The Hybrid Approach</strong><a href="#how-it-works-the-hybrid-approach" class="hash-link" aria-label="Direct link to how-it-works-the-hybrid-approach" title="Direct link to how-it-works-the-hybrid-approach">​</a></h2>
<p>PivotHead uses a <strong>hybrid WASM + JavaScript</strong> approach where each technology does what it does best.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wasm-responsibilities-fast-compute"><strong>WASM Responsibilities (Fast Compute)</strong><a href="#wasm-responsibilities-fast-compute" class="hash-link" aria-label="Direct link to wasm-responsibilities-fast-compute" title="Direct link to wasm-responsibilities-fast-compute">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// WASM Functions (assembly/csvParser.ts)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">parseCSVChunk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> delimiter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hasHeader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> trimValues</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Counts rows and columns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Handles quoted fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Returns structure metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    10x faster than JavaScript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">detectFieldType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Detects</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Fast character analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8x faster than JavaScript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">parseNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Fast </span><span class="token builtin">number</span><span class="token plain"> parsing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Handles decimals</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> negatives</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5x faster than </span><span class="token function" style="color:#d73a49">parseFloat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">estimateMemory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rowCount</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> colCount</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Calculates memory requirements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes per cell estimate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Instant calculation</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="javascript-responsibilities-complex-logic"><strong>JavaScript Responsibilities (Complex Logic)</strong><a href="#javascript-responsibilities-complex-logic" class="hash-link" aria-label="Direct link to javascript-responsibilities-complex-logic" title="Direct link to javascript-responsibilities-complex-logic">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// JavaScript Functions (WasmCSVProcessor.ts)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">parseCSVRows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">csv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Extracts quoted fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John &quot;</span><span class="token string" style="color:#e3116c">&quot;The Boss&quot;</span><span class="token string" style="color:#e3116c">&quot; Doe&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Handles escaped characters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Complex </span><span class="token builtin">string</span><span class="token plain"> manipulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JavaScript&#x27;s specialty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">rowsToObjects</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Creates dynamic objects</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Type conversion and validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ Error handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JavaScript&#x27;s object model</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processing-flow"><strong>Processing Flow</strong><a href="#processing-flow" class="hash-link" aria-label="Direct link to processing-flow" title="Direct link to processing-flow">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  STEP 1: WASM Structure Analysis (FAST!)               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ parseCSVChunk(csvData)                          │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Result: { rowCount: 100000, colCount: 40 }     │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Time: 0.2s                                      │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  STEP 2: JavaScript Data Extraction (COMPLEX)          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ parseCSVRows(csvData)                           │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Handles: &quot;Complex &quot;&quot;Quoted&quot;&quot; Fields&quot;            │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Result: [[&quot;val1&quot;, &quot;val2&quot;], ...]                │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Time: 0.5s                                      │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  STEP 3: WASM Type Detection (FAST!)                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ For each cell:                                  │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   detectFieldType(value) → 0,1,2,3              │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   parseNumber(value) → parsed number            │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Time: 0.15s for 4 million cells!              │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  STEP 4: JavaScript Object Creation                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ rowsToObjects(rows, headers)                    │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Result: [{name: &quot;John&quot;, age: 30}, ...]         │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ Time: 0.3s                                      │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ┌──────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │   TOTAL: 0.85s       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │   vs 8.5s in pure JS │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │   = 10x FASTER!      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              └──────────────────────┘</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-highlights"><strong>Feature Highlights</strong><a href="#feature-highlights" class="hash-link" aria-label="Direct link to feature-highlights" title="Direct link to feature-highlights">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-automatic-mode-selection"><strong>1. Automatic Mode Selection</strong><a href="#1-automatic-mode-selection" class="hash-link" aria-label="Direct link to 1-automatic-mode-selection" title="Direct link to 1-automatic-mode-selection">​</a></h3>
<p>The system <strong>automatically</strong> chooses the optimal processing mode:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ConnectService</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mindfiredigital/pivothead&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Upload any CSV file - automatic optimization!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connectToLocalCSV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pivotEngine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Console output shows which mode was used:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//  Processing Mode: WASM (for 21.38 MB file)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//  Parsed in 0.85s</span><br></span></code></pre></div></div>
<p><strong>No configuration needed!</strong> The system detects file size and selects the best approach.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-streaming-for-large-files"><strong>2. Streaming for Large Files</strong><a href="#2-streaming-for-large-files" class="hash-link" aria-label="Direct link to 2-streaming-for-large-files" title="Direct link to 2-streaming-for-large-files">​</a></h3>
<p>For files over 8 MB, streaming prevents memory issues:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Handles 800 MB CSV file without browser crash!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connectToLocalCSV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pivotEngine</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">maxFileSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1 GB limit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onProgress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token parameter">progress</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Progress: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">progress</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">%</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Processing happens in 4MB chunks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Memory usage stays low</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Browser remains responsive</span><br></span></code></pre></div></div>
<p><strong>Benefits:</strong></p>
<ul>
<li>Handles files up to <strong>1 GB</strong></li>
<li>Low memory usage (only current chunk in memory)</li>
<li>Progress tracking</li>
<li>Browser stays responsive</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-web-workers-for-parallelism"><strong>3. Web Workers for Parallelism</strong><a href="#3-web-workers-for-parallelism" class="hash-link" aria-label="Direct link to 3-web-workers-for-parallelism" title="Direct link to 3-web-workers-for-parallelism">​</a></h3>
<p>Medium files (1-5 MB) use multi-core processing:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Automatically uses (CPU cores - 1) workers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Example: 12-core CPU = 11 workers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connectToLocalCSV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pivotEngine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Console shows worker activity:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//  Using 11 Web Workers for parallel processing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//  Parsed in 1.67s (5x faster than single-threaded)</span><br></span></code></pre></div></div>
<p><strong>Benefits:</strong></p>
<ul>
<li>Utilizes all CPU cores</li>
<li>Doesn&#x27;t block UI thread</li>
<li>5x faster than single-threaded</li>
<li>Automatic worker pool management</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-graceful-fallback"><strong>4. Graceful Fallback</strong><a href="#4-graceful-fallback" class="hash-link" aria-label="Direct link to 4-graceful-fallback" title="Direct link to 4-graceful-fallback">​</a></h3>
<p>If WASM is unavailable (old browsers), automatic fallback:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Processing flow with fallback:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Try</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Streaming</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">WASM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ </span><span class="token function maybe-class-name" style="color:#d73a49">Failed</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">browser doesn&#x27;t support </span><span class="token constant" style="color:#36acaa">WASM</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Try</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Web</span><span class="token plain"> </span><span class="token maybe-class-name">Workers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↓ </span><span class="token maybe-class-name">Success</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">Result</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Still</span><span class="token plain"> fast</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> just not </span><span class="token keyword module" style="color:#00009f">as</span><span class="token plain"> fast </span><span class="token keyword module" style="color:#00009f">as</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">WASM</span><br></span></code></pre></div></div>
<p><strong>Compatibility:</strong></p>
<ul>
<li>Works in <strong>all browsers</strong></li>
<li>Automatic degradation</li>
<li>No errors or crashes</li>
<li>Always functional</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-progress-tracking"><strong>5. Progress Tracking</strong><a href="#5-progress-tracking" class="hash-link" aria-label="Direct link to 5-progress-tracking" title="Direct link to 5-progress-tracking">​</a></h3>
<p>Real-time feedback during file processing:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connectToLocalCSV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pivotEngine</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onProgress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token parameter">progress</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">updateProgressBar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">progress</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Update UI</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Console output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Progress: 0%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Progress: 25%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Progress: 50%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Progress: 75%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Progress: 100%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//  Complete!</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wasm-module-specifications"><strong>WASM Module Specifications</strong><a href="#wasm-module-specifications" class="hash-link" aria-label="Direct link to wasm-module-specifications" title="Direct link to wasm-module-specifications">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Module: csvParser.wasm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Compiled from: AssemblyScript</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Size: ~20 KB (optimized)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Optimization: -O3 (maximum)</span><br></span></code></pre></div></div>
<p><strong>WASM Functions:</strong></p>
<table><thead><tr><th>Function</th><th>Purpose</th><th>Performance</th></tr></thead><tbody><tr><td><code>parseCSVChunk()</code></td><td>Count rows/columns</td><td>10x faster than JS</td></tr><tr><td><code>extractField()</code></td><td>Extract CSV field</td><td>8x faster than JS</td></tr><tr><td><code>parseNumber()</code></td><td>Parse numbers</td><td>5x faster than parseFloat()</td></tr><tr><td><code>detectFieldType()</code></td><td>Detect data type</td><td>8x faster than JS</td></tr><tr><td><code>estimateMemory()</code></td><td>Calculate memory</td><td>Instant</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-workers-architecture"><strong>Web Workers Architecture</strong><a href="#web-workers-architecture" class="hash-link" aria-label="Direct link to web-workers-architecture" title="Direct link to web-workers-architecture">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Worker Pool Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Workers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">CPU</span><span class="token plain"> cores </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">g</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">core </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> workers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Task Queue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">FIFO</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">First In</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> First Out</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Chunk Size</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">MB</span><span class="token plain"> per chunk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Communication</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> MessageChannel </span><span class="token constant" style="color:#36acaa">API</span><br></span></code></pre></div></div>
<p><strong>Worker Lifecycle:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. Create worker pool on initialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Distribute chunks across workers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Each worker parses its chunk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Main thread combines results</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Workers remain idle until next file</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="streaming-reader-details"><strong>Streaming Reader Details</strong><a href="#streaming-reader-details" class="hash-link" aria-label="Direct link to streaming-reader-details" title="Direct link to streaming-reader-details">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Streaming Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Chunk Size</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">MB</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">optimal </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">WASM</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">API</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Streams </span><span class="token constant" style="color:#36acaa">API</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">modern</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">FileReader</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fallback</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Encoding</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">UTF</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">configurable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Buffer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Handles incomplete rows at chunk boundaries</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="webassembly-support"><strong>WebAssembly Support</strong><a href="#webassembly-support" class="hash-link" aria-label="Direct link to webassembly-support" title="Direct link to webassembly-support">​</a></h3>
<table><thead><tr><th>Browser</th><th>Version</th><th>WASM Support</th><th>Performance</th></tr></thead><tbody><tr><td>Chrome</td><td>57+ (2017)</td><td>Full</td><td>Excellent</td></tr><tr><td>Firefox</td><td>52+ (2017)</td><td>Full</td><td>Excellent</td></tr><tr><td>Safari</td><td>11+ (2017)</td><td>Full</td><td>Excellent</td></tr><tr><td>Edge</td><td>16+ (2017)</td><td>Full</td><td>Excellent</td></tr><tr><td>Opera</td><td>44+ (2017)</td><td>Full</td><td>Excellent</td></tr><tr><td>IE 11</td><td>-</td><td>None</td><td>Falls back to Workers</td></tr></tbody></table>
<p><strong>Market Coverage:</strong> ~95% of global browsers support WASM</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fallback-chain"><strong>Fallback Chain</strong><a href="#fallback-chain" class="hash-link" aria-label="Direct link to fallback-chain" title="Direct link to fallback-chain">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">User Browser Detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Does it support WASM?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓            ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  YES          NO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓            ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use WASM    Use Web Workers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(10x faster) (5x faster)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Both work!</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options"><strong>Configuration Options</strong><a href="#configuration-options" class="hash-link" aria-label="Direct link to configuration-options" title="Direct link to configuration-options">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-usage-automatic"><strong>Basic Usage (Automatic)</strong><a href="#basic-usage-automatic" class="hash-link" aria-label="Direct link to basic-usage-automatic" title="Direct link to basic-usage-automatic">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ConnectService</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mindfiredigital/pivothead&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Automatic mode selection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connectToLocalCSV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pivotEngine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// System automatically chooses:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// - WASM for files &gt; 5 MB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// - Workers for files &gt; 1 MB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// - Standard for files &lt; 1 MB</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-configuration"><strong>Advanced Configuration</strong><a href="#advanced-configuration" class="hash-link" aria-label="Direct link to advanced-configuration" title="Direct link to advanced-configuration">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connectToLocalCSV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pivotEngine</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// CSV parsing options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">csv</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">delimiter</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;,&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Field delimiter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">hasHeader</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// First row is header</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">skipEmptyLines</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Skip blank rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">trimValues</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Trim whitespace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">encoding</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// File encoding</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Performance options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">maxFileSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1 GB limit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">maxRecords</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Limit rows loaded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Callbacks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onProgress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token parameter">progress</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Loading: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">progress</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">%</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-performance-thresholds"><strong>Custom Performance Thresholds</strong><a href="#custom-performance-thresholds" class="hash-link" aria-label="Direct link to custom-performance-thresholds" title="Direct link to custom-performance-thresholds">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">PerformanceConfig</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@mindfiredigital/pivothead&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Adjust when WASM activates</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">PerformanceConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">updateConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">useWasmAboveSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 3 MB instead of 5 MB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">useWasmAboveRows</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 10k rows instead of 20k</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">useWorkersAboveSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 500 KB instead of 1 MB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Now WASM activates for smaller files</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-monitoring"><strong>Performance Monitoring</strong><a href="#performance-monitoring" class="hash-link" aria-label="Direct link to performance-monitoring" title="Direct link to performance-monitoring">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="built-in-performance-metrics"><strong>Built-in Performance Metrics</strong><a href="#built-in-performance-metrics" class="hash-link" aria-label="Direct link to built-in-performance-metrics" title="Direct link to built-in-performance-metrics">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connectToLocalCSV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pivotEngine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Result contains performance data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Performance Report:&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;━━━━━━━━━━━━━━━━━━━━━━&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Mode Used: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">performanceMode</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">File Size: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">fileSize</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation number" style="color:#36acaa">1024</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation number" style="color:#36acaa">1024</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">toFixed</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation number" style="color:#36acaa">2</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> MB</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Records: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">recordCount</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">toLocaleString</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Parse Time: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">parseTime</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation number" style="color:#36acaa">1000</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">toFixed</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation number" style="color:#36acaa">2</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">s</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Total Time: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">totalTime</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#393A34">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation number" style="color:#36acaa">1000</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">toFixed</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation number" style="color:#36acaa">2</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">s</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Example Output:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Performance Report:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">━━━━━━━━━━━━━━━━━━━━━━</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mode Used: wasm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">File Size: 21.38 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Records: 100,000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Parse Time: 0.85s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total Time: 2.62s</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary"><strong>Summary</strong><a href="#summary" class="hash-link" aria-label="Direct link to summary" title="Direct link to summary">​</a></h2>
<p>PivotHead&#x27;s WebAssembly integration delivers exceptional performance improvements:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-achievements"><strong>Key Achievements</strong><a href="#key-achievements" class="hash-link" aria-label="Direct link to key-achievements" title="Direct link to key-achievements">​</a></h3>
<ul>
<li><strong>37x faster</strong> complete processing for large files</li>
<li><strong>10x faster</strong> CSV parsing with WASM</li>
<li><strong>14x less</strong> memory usage with streaming</li>
<li>Handles files up to <strong>1 GB</strong> in browser</li>
<li><strong>Automatic optimization</strong> - no configuration needed</li>
<li><strong>95% browser compatibility</strong> with graceful fallback</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/mindfiredigital/PivotHead/tree/main/documentation/docs/reference/conceptual-reference/webassembly.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/PivotHead/docs/reference/conceptual-reference/core-webcomponent-conceptual-reference"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Core Web Component</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/PivotHead/docs/reference/conceptual-reference/react-conceptual-reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">React</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight"><strong>Overview</strong></a></li><li><a href="#what-is-webassembly" class="table-of-contents__link toc-highlight"><strong>What is WebAssembly?</strong></a><ul><li><a href="#analogy" class="table-of-contents__link toc-highlight"><strong>Analogy</strong></a></li><li><a href="#why-wasm-for-csv-processing" class="table-of-contents__link toc-highlight"><strong>Why WASM for CSV Processing?</strong></a></li></ul></li><li><a href="#three-tier-performance-architecture" class="table-of-contents__link toc-highlight"><strong>Three-Tier Performance Architecture</strong></a><ul><li><a href="#architecture-diagram" class="table-of-contents__link toc-highlight"><strong>Architecture Diagram</strong></a></li><li><a href="#processing-tiers" class="table-of-contents__link toc-highlight"><strong>Processing Tiers</strong></a></li></ul></li><li><a href="#performance-comparison-tables" class="table-of-contents__link toc-highlight"><strong>Performance Comparison Tables</strong></a><ul><li><a href="#table-1-parse-time-comparison" class="table-of-contents__link toc-highlight"><strong>Table 1: Parse Time Comparison</strong></a></li><li><a href="#table-2-complete-processing-pipeline" class="table-of-contents__link toc-highlight"><strong>Table 2: Complete Processing Pipeline</strong></a></li><li><a href="#table-3-memory-usage-comparison" class="table-of-contents__link toc-highlight"><strong>Table 3: Memory Usage Comparison</strong></a></li><li><a href="#table-4-different-file-sizes" class="table-of-contents__link toc-highlight"><strong>Table 4: Different File Sizes</strong></a></li><li><a href="#table-5-browser-performance" class="table-of-contents__link toc-highlight"><strong>Table 5: Browser Performance</strong></a></li><li><a href="#table-6-performance-evolution-journey" class="table-of-contents__link toc-highlight"><strong>Table 6: Performance Evolution Journey</strong></a></li></ul></li><li><a href="#how-it-works-the-hybrid-approach" class="table-of-contents__link toc-highlight"><strong>How It Works: The Hybrid Approach</strong></a><ul><li><a href="#wasm-responsibilities-fast-compute" class="table-of-contents__link toc-highlight"><strong>WASM Responsibilities (Fast Compute)</strong></a></li><li><a href="#javascript-responsibilities-complex-logic" class="table-of-contents__link toc-highlight"><strong>JavaScript Responsibilities (Complex Logic)</strong></a></li><li><a href="#processing-flow" class="table-of-contents__link toc-highlight"><strong>Processing Flow</strong></a></li></ul></li><li><a href="#feature-highlights" class="table-of-contents__link toc-highlight"><strong>Feature Highlights</strong></a><ul><li><a href="#1-automatic-mode-selection" class="table-of-contents__link toc-highlight"><strong>1. Automatic Mode Selection</strong></a></li><li><a href="#2-streaming-for-large-files" class="table-of-contents__link toc-highlight"><strong>2. Streaming for Large Files</strong></a></li><li><a href="#3-web-workers-for-parallelism" class="table-of-contents__link toc-highlight"><strong>3. Web Workers for Parallelism</strong></a></li><li><a href="#4-graceful-fallback" class="table-of-contents__link toc-highlight"><strong>4. Graceful Fallback</strong></a></li><li><a href="#5-progress-tracking" class="table-of-contents__link toc-highlight"><strong>5. Progress Tracking</strong></a></li><li><a href="#wasm-module-specifications" class="table-of-contents__link toc-highlight"><strong>WASM Module Specifications</strong></a></li><li><a href="#web-workers-architecture" class="table-of-contents__link toc-highlight"><strong>Web Workers Architecture</strong></a></li><li><a href="#streaming-reader-details" class="table-of-contents__link toc-highlight"><strong>Streaming Reader Details</strong></a></li><li><a href="#webassembly-support" class="table-of-contents__link toc-highlight"><strong>WebAssembly Support</strong></a></li><li><a href="#fallback-chain" class="table-of-contents__link toc-highlight"><strong>Fallback Chain</strong></a></li></ul></li><li><a href="#configuration-options" class="table-of-contents__link toc-highlight"><strong>Configuration Options</strong></a><ul><li><a href="#basic-usage-automatic" class="table-of-contents__link toc-highlight"><strong>Basic Usage (Automatic)</strong></a></li><li><a href="#advanced-configuration" class="table-of-contents__link toc-highlight"><strong>Advanced Configuration</strong></a></li><li><a href="#custom-performance-thresholds" class="table-of-contents__link toc-highlight"><strong>Custom Performance Thresholds</strong></a></li></ul></li><li><a href="#performance-monitoring" class="table-of-contents__link toc-highlight"><strong>Performance Monitoring</strong></a><ul><li><a href="#built-in-performance-metrics" class="table-of-contents__link toc-highlight"><strong>Built-in Performance Metrics</strong></a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight"><strong>Summary</strong></a><ul><li><a href="#key-achievements" class="table-of-contents__link toc-highlight"><strong>Key Achievements</strong></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2026 Mindfire FOSS</div></div></div></footer></div>
</body>
</html>