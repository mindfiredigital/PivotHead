---
id: pivot-charts
title: Pivot Charts
sidebar_label: Pivot Charts
description: Transform your pivot table data into beautiful, interactive visualizations with PivotHead Analytics
keywords: [pivot charts, data visualization, analytics, bar chart, pie chart, line chart, echarts, plotly, d3]
---

import InteractiveChartDemo from '@site/src/components/PivotCharts/InteractiveChartDemo';
import FrameworkSwitcher from '@site/src/components/PivotCharts/FrameworkSwitcher';

# Pivot Charts

Transform your pivot table data into stunning visualizations. PivotHead Analytics gives you 17 chart types, smart chart recommendations, multi-library rendering support, and powerful export options — all with minimal setup.

## What You Get

- **17 chart types** — from basic bar/line to heatmaps, treemaps, funnels, and sankey diagrams
- **Smart recommendations** — the engine analyzes your data and suggests the best chart automatically
- **4 rendering libraries** — use the default renderer, or switch to ECharts, Plotly, or D3 for specialized needs
- **Export anywhere** — download charts as PNG, SVG, PDF, or export data as CSV/JSON
- **15+ color palettes** — including accessibility-friendly options for color vision deficiencies
- **Built-in filtering** — filter by measure, rows, columns, or show only top N items
- **Interactive drill-down** — click through hierarchical data levels (e.g., Region > Country > City)
- **Large dataset support** — intelligent data sampling and progressive rendering for 100k+ rows
- **Value formatting** — currency, percentages, compact notation, locale-aware formatting

---

## Interactive Chart Explorer

Click on any chart type below to see a live preview and get the implementation code.

<InteractiveChartDemo />

---

## Choose Your Framework

PivotHead works seamlessly with all major frameworks. Select yours to see framework-specific implementation:

<FrameworkSwitcher />

---

## Quick Start

### 1. Install

```bash
npm install @mindfiredigital/pivothead-analytics
```

This single install gives you everything — the core PivotEngine and the analytics/charting layer. No extra dependencies needed.

### 2. Create a Chart in 5 Lines

```typescript
import { PivotEngine } from '@mindfiredigital/pivothead';
import { ChartEngine } from '@mindfiredigital/pivothead-analytics';

// Your data
const salesData = [
  { region: 'North', product: 'Laptops', revenue: 45000 },
  { region: 'North', product: 'Phones', revenue: 32000 },
  { region: 'South', product: 'Laptops', revenue: 38000 },
  { region: 'South', product: 'Phones', revenue: 41000 },
  { region: 'East', product: 'Laptops', revenue: 52000 },
  { region: 'East', product: 'Phones', revenue: 28000 },
];

// Configure your pivot
const config = {
  rows: [{ uniqueName: 'region', caption: 'Region' }],
  columns: [{ uniqueName: 'product', caption: 'Product' }],
  measures: [
    { uniqueName: 'revenue', caption: 'Total Revenue', aggregation: 'sum' },
  ],
};

// Create engine and render
const engine = new PivotEngine(salesData, config);
const chartEngine = new ChartEngine(engine);

// That's it — auto-detect the best chart and render
chartEngine.auto({ container: '#myChart' });
```

Add a container element to your HTML:

```html
<div id="myChart" style="width: 600px; height: 400px;"></div>
```

---

## Chart Types at a Glance

### Basic Charts

Simple comparisons and trend analysis.

| Chart | Type Value | Best For |
|-------|-----------|----------|
| Column | `'column'` | Comparing values across categories |
| Bar | `'bar'` | Categories with long labels (horizontal) |
| Line | `'line'` | Trends over time |
| Area | `'area'` | Emphasizing volume and magnitude |

### Circular Charts

Show proportions and part-to-whole relationships.

| Chart | Type Value | Best For |
|-------|-----------|----------|
| Pie | `'pie'` | Part-to-whole (3–7 categories) |
| Doughnut | `'doughnut'` | Same as pie, with space for center metric |

### Stacked Charts

Composition and totals together.

| Chart | Type Value | Best For |
|-------|-----------|----------|
| Stacked Column | `'stackedColumn'` | Part-to-whole over categories |
| Stacked Bar | `'stackedBar'` | Horizontal stacked composition |
| Stacked Area | `'stackedArea'` | Cumulative trends over time |

### Combo Charts

Overlay multiple visualization types on one chart.

| Chart | Type Value | Best For |
|-------|-----------|----------|
| Bar + Line | `'comboBarLine'` | Volume vs. rate (e.g., sales vs. growth %) |
| Area + Line | `'comboAreaLine'` | Magnitude with trend overlay |

### Statistical & Advanced Charts

For deeper data analysis.

| Chart | Type Value | Best For |
|-------|-----------|----------|
| Scatter | `'scatter'` | Correlation between two measures |
| Histogram | `'histogram'` | Frequency distribution of values |
| Heatmap | `'heatmap'` | 2D patterns across row/column matrix |
| Funnel | `'funnel'` | Stage-based progression (e.g., sales pipeline) |
| Treemap | `'treemap'` | Hierarchical data with proportional sizing |
| Sankey | `'sankey'` | Flow between categories |

---

## Rendering with Different Chart Types

### Using Convenience Methods

The simplest way — one method per chart type:

```typescript
chartEngine.column({ container: '#chart', style: { title: 'Sales by Region' } });
chartEngine.pie({ container: '#chart', style: { title: 'Market Share' } });
chartEngine.line({ container: '#chart', style: { title: 'Monthly Trend' } });
chartEngine.heatmap({ container: '#chart', style: { title: 'Performance Matrix' } });
```

### Using `render()` with Full Config

For more control over styling, formatting, and interactions:

```typescript
const chart = chartEngine.render({
  container: '#chart',
  type: 'column',
  style: {
    title: 'Revenue by Region',
    subtitle: 'Q1 2025',
    showLegend: true,
    legendPosition: 'bottom',
    showGrid: true,
    animated: true,
    colorScheme: 'vibrant',
  },
  format: {
    valueFormat: 'currency',
    currency: 'USD',
    locale: 'en-US',
  },
  interactions: {
    hover: true,
    click: (data) => {
      alert(`${data.rowValue}: ${data.value}`);
    },
  },
});
```

### Switching Chart Types Dynamically

Let users pick their preferred chart type:

```typescript
function switchChart(newType) {
  chartEngine.destroyChart('#chart');
  chartEngine.render({
    container: '#chart',
    type: newType,
    style: { title: `${newType} Chart`, animated: true },
  });
}

// Wire up to a dropdown
document.getElementById('chartType').addEventListener('change', (e) => {
  switchChart(e.target.value);
});
```

---

## Smart Chart Recommendations

PivotHead analyzes your data structure — dimensions, measures, cardinality, time fields, hierarchies — and recommends the best chart types with confidence scores.

### Let the Engine Decide

```typescript
// Auto-detect and render the best chart
chartEngine.auto({
  container: '#chart',
  style: { title: 'Auto-detected Chart' },
});
```

### Get Recommendations and Let Users Choose

```typescript
const recommendations = chartEngine.recommend();

// Show recommendations in your UI
recommendations.forEach(rec => {
  console.log(`${rec.type} (${Math.round(rec.score * 100)}%): ${rec.reason}`);
});

// Render a specific recommendation
chartEngine.renderRecommendation(recommendations[0], '#chart');
```

### What Gets Detected

The recommendation engine checks for:
- **Time dimensions** — field names like "date", "month", "year" AND actual date values in your data
- **Category count** — fewer categories suggest pie/doughnut, many suggest bar charts
- **Matrix size** — large row x column grids favor heatmaps
- **Funnel patterns** — stage-like fields with decreasing values
- **Hierarchies** — multiple row dimensions suggest treemaps
- **Continuous numeric data** — many unique values suggest histograms
- **Multiple measures** — suggest combo or scatter charts

---

## Choosing a Rendering Library

PivotHead Analytics supports four rendering libraries. The default works great for most cases, but you can switch for specialized needs.

| Library | Install | Best For |
|---------|---------|----------|
| Default | Bundled — nothing to install | Standard charts, lightweight apps |
| [Apache ECharts](https://echarts.apache.org/) | `npm install echarts` | Rich interactivity, dashboards, large datasets |
| [Plotly](https://plotly.com/javascript/) | `npm install plotly.js-dist` | Scientific visualization, 3D charts |
| [D3](https://d3js.org/) | `npm install d3` | Maximum customization, custom visualizations |

### Using a Different Library

```typescript
// Set globally
const chartEngine = new ChartEngine(engine, { library: 'echarts' });

// Or per-chart
chartEngine.render({
  container: '#chart',
  type: 'line',
  library: 'plotly',
});
```

---

## Filtering Chart Data

Control exactly what data your chart displays.

```typescript
const chartService = chartEngine.getChartService();

// Show only specific regions, top 5
chartService.setFilters({
  selectedMeasure: 'revenue',
  selectedRows: ['North', 'South', 'East'],
  limit: 5,
});

// Re-render to reflect filters
chartEngine.updateAllCharts();

// Build a filter UI dynamically
const options = chartService.getAvailableFilterOptions();
// options.measures → [{ uniqueName: 'revenue', caption: 'Total Revenue' }, ...]
// options.rows → ['North', 'South', 'East', 'West']
// options.columns → ['Laptops', 'Phones', 'Tablets']

// Reset everything
chartService.resetFilters();
```

---

## Styling and Color Palettes

### Built-in Palettes

```typescript
// Use a built-in palette
chartEngine.render({
  container: '#chart',
  type: 'pie',
  style: { colorScheme: 'colorBlind' },  // Accessibility-friendly
});
```

Available palettes: `tableau10` (default), `colorBlind`, `categorical`, `pastel`, `vibrant`, `sequentialBlues`, `sequentialGreens`, `sequentialReds`, `sequentialOranges`, `sequentialPurples`, `divergingRedBlue`, `divergingRedGreen`, `divergingPurpleGreen`.

### Custom Colors

```typescript
chartEngine.render({
  container: '#chart',
  type: 'column',
  style: {
    colors: ['#6366f1', '#ec4899', '#22c55e', '#fb923c', '#8b5cf6'],
  },
});
```

---

## Exporting Charts

### Quick Exports

```typescript
await chartEngine.exportAsPng('#chart', 'sales-report');
await chartEngine.exportAsSvg('#chart', 'sales-vector');
await chartEngine.exportAsPdf('#chart', 'sales-document');
await chartEngine.exportAsCsv('#chart', 'sales-data');
await chartEngine.exportAsJson('#chart', 'sales-raw');
```

### Custom Export Settings

```typescript
await chartEngine.exportChart('#chart', {
  format: 'png',
  filename: 'quarterly-report',
  width: 1920,
  height: 1080,
  quality: 0.95,
  backgroundColor: '#ffffff',
});
```

### Get a Blob (for Uploads, Emails, etc.)

```typescript
const blob = await chartEngine.getChartBlob('#chart', 'png');
// Use with FormData, send via API, etc.
```

---

## Interactive Drill-Down

Navigate through data hierarchies by clicking on chart elements.

```typescript
chartEngine.render({
  container: '#chart',
  type: 'column',
  interactions: {
    drillDown: {
      enabled: true,
      levels: ['region', 'country', 'city'],
      onDrill: (level, path) => {
        console.log(`Now viewing: ${path.map(p => p.value).join(' > ')}`);
      },
      onDrillUp: (path) => {
        console.log('Navigated back up');
      },
    },
  },
});
```

---

## Handling Large Datasets

PivotHead Analytics can handle datasets with hundreds of thousands of rows using built-in performance features.

### Data Sampling

Automatically reduce data points while preserving visual accuracy:

```typescript
const chartEngine = new ChartEngine(engine, {
  performance: {
    maxDataPoints: 5000,
    samplingMethod: 'lttb',  // Best for time series
    enableSampling: true,
  },
});
```

### Progressive Rendering

Render charts incrementally with a progress indicator:

```typescript
import { renderProgressively } from '@mindfiredigital/pivothead-analytics';

await renderProgressively(chartEngine, {
  container: '#chart',
  type: 'line',
  chunkSize: 1000,
  onProgress: (percent) => {
    progressBar.style.width = `${percent}%`;
  },
});
```

---

## Value Formatting

Display chart values in the format your users expect.

```typescript
// Via chart config
chartEngine.render({
  container: '#chart',
  type: 'column',
  format: {
    valueFormat: 'currency',
    currency: 'USD',
    locale: 'en-US',
    decimals: 0,
  },
});
```

### Standalone Formatters

```typescript
import { formatCurrency, formatPercent, formatCompact } from '@mindfiredigital/pivothead-analytics';

formatCurrency(45000, 'USD');    // "$45,000.00"
formatPercent(0.156);            // "15.6%"
formatCompact(2500000);          // "2.5M"
```

---

## Fluent Builder API

An alternative way to build charts step by step, useful for dynamic or conditional configuration:

```typescript
import { barChart, pieChart, lineChart } from '@mindfiredigital/pivothead-analytics';

const chart = barChart(engine)
  .container('#chart')
  .title('Revenue by Region')
  .palette('vibrant')
  .legend(true, 'bottom')
  .grid(true)
  .animate(true)
  .build();
```

---

## Complete Example

Putting it all together — a dashboard with recommendations, filtering, and export:

```typescript
import { PivotEngine } from '@mindfiredigital/pivothead';
import { ChartEngine } from '@mindfiredigital/pivothead-analytics';

// Setup
const engine = new PivotEngine(salesData, pivotConfig);
const chartEngine = new ChartEngine(engine, {
  defaultStyle: {
    colorScheme: 'tableau10',
    animated: true,
    showLegend: true,
  },
  defaultFormat: {
    valueFormat: 'currency',
    currency: 'USD',
  },
});

// 1. Get recommendations
const recommendations = chartEngine.recommend();
console.log('Best chart:', recommendations[0].type, recommendations[0].reason);

// 2. Render the best chart
chartEngine.renderRecommendation(recommendations[0], '#main-chart');

// 3. Apply filters
const chartService = chartEngine.getChartService();
chartService.setFilters({ limit: 10 });
chartEngine.updateAllCharts();

// 4. Export
document.getElementById('exportBtn').addEventListener('click', async () => {
  await chartEngine.exportAsPng('#main-chart', 'dashboard-export');
});

// 5. Cleanup when done
window.addEventListener('beforeunload', () => {
  chartEngine.dispose();
});
```

---

## Next Steps

- [Analytics API Reference](/docs/reference/api-reference/analytics-api-reference) — Full API details and type definitions
- [Core Concepts](/docs/tutorial-basics/core/core-concepts) — Understanding PivotEngine configuration

export const FeatureStyles = () => (
  <style>{`
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }
    .feature-card {
      background: var(--ifm-color-emphasis-100);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    }
    .feature-icon {
      font-size: 2rem;
      margin-bottom: 0.75rem;
    }
    .feature-card h4 {
      margin: 0 0 0.5rem 0;
      color: var(--ifm-heading-color);
    }
    .feature-card p {
      margin: 0;
      font-size: 0.875rem;
      color: var(--ifm-font-color-secondary);
    }
    .chart-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }
    .gallery-item {
      background: var(--ifm-color-emphasis-100);
      border-radius: 12px;
      overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .gallery-item:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 32px rgba(0,0,0,0.15);
    }
    .gallery-item img {
      width: 100%;
      height: 180px;
      object-fit: contain;
      background: white;
      padding: 1rem;
    }
    .gallery-caption {
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }
    .gallery-caption strong {
      color: var(--ifm-heading-color);
      font-size: 1rem;
    }
    .gallery-caption span {
      color: var(--ifm-font-color-secondary);
      font-size: 0.85rem;
    }
    [data-theme="dark"] .gallery-item img {
      background: #1a1a1a;
    }
  `}</style>
);

<FeatureStyles />
