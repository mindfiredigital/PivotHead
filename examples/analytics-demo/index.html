<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PivotHead Analytics - RFC Feature Demo</title>
  <link rel="stylesheet" href="./style.css">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
  <!-- Plotly -->
  <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist@2.30.0/plotly.min.js"></script>
  <!-- D3 -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
</head>
<body>
  <header>
    <h1>PivotHead Analytics - RFC Feature Demo</h1>
    <p>Comprehensive demonstration of all RFC features</p>
  </header>

  <nav id="feature-nav">
    <button class="nav-btn active" data-section="chart-libraries">Chart Libraries</button>
    <button class="nav-btn" data-section="chart-classes">Chart Classes</button>
    <button class="nav-btn" data-section="chart-types">Chart Types</button>
    <button class="nav-btn" data-section="recommendations">Recommendations</button>
    <button class="nav-btn" data-section="data-sampling">Data Sampling</button>
    <button class="nav-btn" data-section="drill-down">Drill-Down</button>
    <button class="nav-btn" data-section="data-transformer">Data Transformer</button>
    <button class="nav-btn" data-section="color-palettes">Color Palettes</button>
  </nav>

  <main>
    <!-- Section 1: Chart Libraries -->
    <section id="chart-libraries" class="demo-section active">
      <h2>1. Multiple Chart Library Support</h2>
      <p>Render the same data using different chart libraries: Chart.js, ECharts, Plotly, D3</p>

      <div class="chart-grid">
        <div class="chart-card">
          <h3>Chart.js</h3>
          <div id="chart-chartjs" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>ECharts</h3>
          <div id="chart-echarts" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Plotly</h3>
          <div id="chart-plotly" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>D3.js</h3>
          <div id="chart-d3" class="chart-container"></div>
        </div>
      </div>
    </section>

    <!-- Section 2: Chart Classes (Fluent API) -->
    <section id="chart-classes" class="demo-section">
      <h2>2. Chart Classes with Fluent API</h2>
      <p>Configure charts using the fluent builder pattern</p>

      <div class="controls">
        <label>
          Chart Type:
          <select id="chart-class-type">
            <option value="bar">BarChart</option>
            <option value="line">LineChart</option>
            <option value="pie">PieChart</option>
            <option value="scatter">ScatterChart</option>
            <option value="heatmap">HeatmapChart</option>
            <option value="combo">ComboChart</option>
          </select>
        </label>
        <label>
          <input type="checkbox" id="chart-stacked"> Stacked
        </label>
        <label>
          <input type="checkbox" id="chart-horizontal"> Horizontal
        </label>
        <label>
          <input type="checkbox" id="chart-animated" checked> Animated
        </label>
      </div>

      <div class="code-preview">
        <pre id="fluent-code"></pre>
      </div>

      <div class="chart-card full-width">
        <div id="chart-fluent" class="chart-container large"></div>
      </div>
    </section>

    <!-- Section 3: All Chart Types -->
    <section id="chart-types" class="demo-section">
      <h2>3. All Supported Chart Types</h2>
      <p>Demonstration of all chart types from the RFC</p>

      <div class="chart-grid three-col">
        <div class="chart-card">
          <h3>Column Chart</h3>
          <div id="type-column" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Bar Chart (Horizontal)</h3>
          <div id="type-bar" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Line Chart</h3>
          <div id="type-line" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Area Chart</h3>
          <div id="type-area" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Stacked Column</h3>
          <div id="type-stacked-column" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Stacked Area</h3>
          <div id="type-stacked-area" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Pie Chart</h3>
          <div id="type-pie" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Doughnut Chart</h3>
          <div id="type-doughnut" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Scatter Chart</h3>
          <div id="type-scatter" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Heatmap</h3>
          <div id="type-heatmap" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Combo Chart</h3>
          <div id="type-combo" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Treemap</h3>
          <div id="type-treemap" class="chart-container"></div>
        </div>
      </div>
    </section>

    <!-- Section 4: Chart Recommendations -->
    <section id="recommendations" class="demo-section">
      <h2>4. Smart Chart Recommendations</h2>
      <p>ChartRecommender analyzes your data and suggests the best chart types</p>

      <div class="controls">
        <label>
          Data Scenario:
          <select id="recommendation-scenario">
            <option value="single-category">Single Category (few values)</option>
            <option value="multi-category">Multiple Categories</option>
            <option value="time-series">Time Series Data</option>
            <option value="comparison">Comparison Matrix</option>
            <option value="hierarchical">Hierarchical Data</option>
            <option value="correlation">Correlation Data</option>
          </select>
        </label>
        <button id="btn-recommend">Get Recommendations</button>
      </div>

      <div class="recommendation-results">
        <div id="data-profile" class="profile-card">
          <h4>Data Profile</h4>
          <pre id="profile-details"></pre>
        </div>
        <div id="recommendations-list" class="recommendations-card">
          <h4>Recommended Charts</h4>
          <ul id="recommendation-items"></ul>
        </div>
      </div>

      <div class="chart-card full-width">
        <h3>Best Recommended Chart</h3>
        <div id="chart-recommended" class="chart-container large"></div>
      </div>
    </section>

    <!-- Section 5: Data Sampling -->
    <section id="data-sampling" class="demo-section">
      <h2>5. Data Sampling for Large Datasets</h2>
      <p>DataSampler provides efficient sampling algorithms for large datasets</p>

      <div class="controls">
        <label>
          Dataset Size:
          <select id="dataset-size">
            <option value="100">100 points</option>
            <option value="1000">1,000 points</option>
            <option value="10000" selected>10,000 points</option>
            <option value="50000">50,000 points</option>
          </select>
        </label>
        <label>
          Sampling Method:
          <select id="sampling-method">
            <option value="lttb">LTTB (Largest Triangle)</option>
            <option value="random">Random</option>
            <option value="systematic">Systematic</option>
          </select>
        </label>
        <label>
          Target Size:
          <input type="number" id="sample-size" value="100" min="10" max="500">
        </label>
        <button id="btn-sample">Apply Sampling</button>
      </div>

      <div class="sampling-stats">
        <div class="stat-card">
          <span class="stat-label">Original Points</span>
          <span id="stat-original" class="stat-value">-</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Sampled Points</span>
          <span id="stat-sampled" class="stat-value">-</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Reduction</span>
          <span id="stat-reduction" class="stat-value">-</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Sample Time</span>
          <span id="stat-time" class="stat-value">-</span>
        </div>
      </div>

      <div class="chart-grid">
        <div class="chart-card">
          <h3>Original Data (first 500 points)</h3>
          <div id="chart-original" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Sampled Data</h3>
          <div id="chart-sampled" class="chart-container"></div>
        </div>
      </div>
    </section>

    <!-- Section 6: Drill-Down -->
    <section id="drill-down" class="demo-section">
      <h2>6. Drill-Down Navigation</h2>
      <p>DrillDownManager enables hierarchical data exploration</p>

      <div class="drill-path">
        <span>Path:</span>
        <span id="drill-breadcrumb">All Data</span>
        <button id="btn-drill-up" disabled>Drill Up</button>
        <button id="btn-drill-reset">Reset</button>
      </div>

      <div class="drill-info">
        <div class="info-card">
          <span class="info-label">Current Level</span>
          <span id="drill-level" class="info-value">0</span>
        </div>
        <div class="info-card">
          <span class="info-label">Hierarchy</span>
          <span id="drill-hierarchy" class="info-value">Region > Country > Department</span>
        </div>
        <div class="info-card">
          <span class="info-label">Active Filter</span>
          <span id="drill-filter" class="info-value">None</span>
        </div>
      </div>

      <div class="chart-card full-width">
        <h3>Click on chart elements to drill down</h3>
        <div id="chart-drilldown" class="chart-container large"></div>
      </div>
    </section>

    <!-- Section 7: Data Transformer -->
    <section id="data-transformer" class="demo-section">
      <h2>7. Data Transformation Utilities</h2>
      <p>DataTransformer converts between various data formats</p>

      <div class="controls">
        <label>
          Transform Type:
          <select id="transform-type">
            <option value="aggregate">Aggregate (Sum)</option>
            <option value="transpose">Transpose</option>
            <option value="normalize">Normalize (%)</option>
            <option value="stacked">To Stacked</option>
            <option value="heatmap">To Heatmap</option>
            <option value="limit">Limit (Top 5)</option>
          </select>
        </label>
        <button id="btn-transform">Apply Transform</button>
      </div>

      <div class="transform-comparison">
        <div class="chart-card">
          <h3>Original Data</h3>
          <div id="chart-transform-original" class="chart-container"></div>
        </div>
        <div class="chart-card">
          <h3>Transformed Data</h3>
          <div id="chart-transform-result" class="chart-container"></div>
        </div>
      </div>

      <div class="data-preview">
        <h4>Data Structure Preview</h4>
        <pre id="transform-data-preview"></pre>
      </div>
    </section>

    <!-- Section 8: Color Palettes -->
    <section id="color-palettes" class="demo-section">
      <h2>8. Color Palettes & Formatting</h2>
      <p>Choose from predefined color palettes and customize formatting</p>

      <div class="controls">
        <label>
          Color Palette:
          <select id="color-palette">
            <option value="tableau10">Tableau 10</option>
            <option value="category10">D3 Category 10</option>
            <option value="pastel">Pastel</option>
            <option value="dark">Dark</option>
            <option value="colorblind">Colorblind Safe</option>
            <option value="sequential">Sequential Blue</option>
          </select>
        </label>
        <label>
          Value Format:
          <select id="value-format">
            <option value="number">Number</option>
            <option value="currency">Currency ($)</option>
            <option value="percent">Percent (%)</option>
            <option value="compact">Compact (K, M)</option>
          </select>
        </label>
      </div>

      <div class="palette-preview">
        <h4>Palette Colors</h4>
        <div id="palette-colors" class="color-swatches"></div>
      </div>

      <div class="chart-card full-width">
        <div id="chart-styled" class="chart-container large"></div>
      </div>
    </section>
  </main>

  <footer>
    <p>PivotHead Analytics Demo - Testing all RFC features</p>
    <p>Click events are logged to the console</p>
  </footer>

  <script type="module" src="./main.js"></script>
</body>
</html>
